<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'MS Shell Dlg 2'; font-size:9pt; font-weight:400; font-style:normal;">
<p style=" margin-top:18px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu Sans'; font-size:11pt; font-weight:600;">Отладка кода с Git: 3 инструмента для поиска ошибок</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu Sans'; font-size:11pt;">От</span><a href="https://proglib.io/p/author/furrycat/"><span style=" font-family:'DejaVu Sans'; font-size:11pt; text-decoration: underline; color:#0000ff;">furrycat</span></a></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu Sans'; font-size:11pt;"> - </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu Sans'; font-size:11pt;">29.06.2018  </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://proglib.io/p/git-debugging/#respond"><span style=" font-family:'DejaVu Sans'; font-size:11pt; text-decoration: underline; color:#0000ff;">0</span></a></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu Sans'; font-size:11pt;">3229</span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'DejaVu Sans'; font-size:11pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://vk.com/share.php?url=https%3A%2F%2Fproglib.io%2Fp%2Fgit-debugging%2F&amp;title=%D0%9E%D1%82%D0%BB%D0%B0%D0%B4%D0%BA%D0%B0%20%D0%BA%D0%BE%D0%B4%D0%B0%20%D1%81%20Git%3A%203%20%D0%B8%D0%BD%D1%81%D1%82%D1%80%D1%83%D0%BC%D0%B5%D0%BD%D1%82%D0%B0%20%D0%B4%D0%BB%D1%8F%20%D0%BF%D0%BE%D0%B8%D1%81%D0%BA%D0%B0%20%D0%BE%D1%88%D0%B8%D0%B1%D0%BE%D0%BA%20%7C%20%D0%91%D0%B8%D0%B1%D0%BB%D0%B8%D0%BE%D1%82%D0%B5%D0%BA%D0%B0%20%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%81%D1%82%D0%B0&amp;utm_source=share2"><span style=" text-decoration: underline; color:#0000ff;">1</span></a></li>
<li style=" font-family:'DejaVu Sans'; font-size:11pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://www.facebook.com/sharer.php?src=sp&amp;u=https%3A%2F%2Fproglib.io%2Fp%2Fgit-debugging%2F&amp;title=%D0%9E%D1%82%D0%BB%D0%B0%D0%B4%D0%BA%D0%B0%20%D0%BA%D0%BE%D0%B4%D0%B0%20%D1%81%20Git%3A%203%20%D0%B8%D0%BD%D1%81%D1%82%D1%80%D1%83%D0%BC%D0%B5%D0%BD%D1%82%D0%B0%20%D0%B4%D0%BB%D1%8F%20%D0%BF%D0%BE%D0%B8%D1%81%D0%BA%D0%B0%20%D0%BE%D1%88%D0%B8%D0%B1%D0%BE%D0%BA%20%7C%20%D0%91%D0%B8%D0%B1%D0%BB%D0%B8%D0%BE%D1%82%D0%B5%D0%BA%D0%B0%20%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%81%D1%82%D0%B0&amp;utm_source=share2"><span style=" text-decoration: underline; color:#0000ff;">71</span></a></li></ul>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu Sans'; font-size:11pt;">Отладка кода и устранение ошибок – неотъемлемая часть работы программиста. Git предлагает 3 инструмента, чтобы сделать процесс проще.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu Sans'; font-size:11pt;">При работе над большим проектом, в коде частенько появляются ошибки, которые мешают дальнейшему развитию. Их необходимо найти и исправить.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu Sans'; font-size:11pt;">Можно просматривать всю историю изменений вручную, но это долгий и утомительный процесс. К счастью, </span><a href="https://proglib.io/p/git-for-half-an-hour/"><span style=" font-family:'DejaVu Sans'; font-size:11pt; text-decoration: underline; color:#0000ff;">Git</span></a><span style=" font-family:'DejaVu Sans'; font-size:11pt;"> предлагает несколько инструментов, которые можно использовать для поиска ошибки и ее виновника.</span></p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu Sans'; font-size:11pt; font-weight:600;">Git Blame</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-size:11pt;">$ git blame &lt;file_path/file_name&gt;</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="aswift_1_expand"></a><span style=" font-family:'DejaVu Sans'; font-size:11pt;">Е</span><span style=" font-family:'DejaVu Sans'; font-size:11pt;">сли известно, какая именно строка кода привела к появлению ошибки, можно воспользоваться </span><a href="https://kolosek.com/git-commands-tutorial-part2/"><span style=" font-family:'DejaVu Sans'; font-size:11pt; text-decoration: underline; color:#0000ff;">командой</span></a><span style=" font-family:'DejaVu Sans'; font-size:11pt;"> </span><span style=" font-family:'Courier New,courier'; font-size:11pt;">git blame</span><span style=" font-family:'DejaVu Sans'; font-size:11pt;">. Она поможет найти коммит, создавший эту строку. Также Git определит автора изменений, у которого можно будет запросить дополнительную информацию о коде.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu Sans'; font-size:11pt;">Для ограничения диапазона строк, нуждающихся в анализе, существует опция </span><span style=" font-family:'Courier New,courier'; font-size:11pt;">-L</span><span style=" font-family:'DejaVu Sans'; font-size:11pt;">.</span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5b6c9cf725f23213137107"></a><span style=" font-family:'DejaVu Sans'; font-size:11pt;">$</span><span style=" font-family:'DejaVu Sans'; font-size:11pt;"> git blame -L 11,21 new_file^95d69a196b5c7 (Jhon Smith  2018-05-18 13:04:22 +0200 11) def new^95d69a196b5c7 (Jhon Smith  2018-05-18 13:04:22 +0200 12) @article = Article.new^95d69a196b5c7 (Jhon Smith  2018-05-18 13:04:22 +0200 13) end3171aa2dbbce7 (David Smith 2018-05-16 18:21:30 +0200 14) def edit3171aa2dbbce7 (David Smith 2018-05-16 18:21:30 +0200 15) @article = Article.find(params[:id])3171aa2dbbce7 (David Smith 2018-05-16 18:21:30 +0200 16) end^95d69a196b5c7 (Jhon Smith  2018-05-18 13:04:22 +0200 17) def create3171aa2dbbce7 (David Smith 2018-05-16 18:21:30 +0200 18) @article = Article.new(article_params)^95d69a196b5c7 (Jhon Smith  2018-05-18 13:04:22 +0200 19) if @article.save^95d69a196b5c7 (Jhon Smith  2018-05-18 13:04:22 +0200 20) redirect_to @article^95d69a196b5c7 (Jhon Smith  2018-05-18 13:04:22 +0200 21) else</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'DejaVu Sans'; font-size:11pt;"><br /></p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" cellspacing="2" cellpadding="0">
<tr>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu Sans'; font-size:11pt;">1</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu Sans'; font-size:11pt;">2</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu Sans'; font-size:11pt;">3</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu Sans'; font-size:11pt;">4</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu Sans'; font-size:11pt;">5</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu Sans'; font-size:11pt;">6</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu Sans'; font-size:11pt;">7</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu Sans'; font-size:11pt;">8</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu Sans'; font-size:11pt;">9</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu Sans'; font-size:11pt;">10</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu Sans'; font-size:11pt;">11</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu Sans'; font-size:11pt;">12</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu Sans'; font-size:11pt;">13</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu Sans'; font-size:11pt;">14</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu Sans'; font-size:11pt;">15</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5b6c9cf725f23213137107-1"></a><span style=" font-family:'DejaVu Sans'; font-size:11pt;">$</span><span style=" font-family:'DejaVu Sans'; font-size:11pt;"> git blame -L 11,21 new_file</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5b6c9cf725f23213137107-2"></a><span style=" font-family:'DejaVu Sans'; font-size:11pt;">^</span><span style=" font-family:'DejaVu Sans'; font-size:11pt;">95d69a196b5c7 (Jhon Smith  2018-05-18 13:04:22 +0200 11) def new</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5b6c9cf725f23213137107-3"></a><span style=" font-family:'DejaVu Sans'; font-size:11pt;">^</span><span style=" font-family:'DejaVu Sans'; font-size:11pt;">95d69a196b5c7 (Jhon Smith  2018-05-18 13:04:22 +0200 12) </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5b6c9cf725f23213137107-4"></a><span style=" font-family:'DejaVu Sans'; font-size:11pt;">@</span><span style=" font-family:'DejaVu Sans'; font-size:11pt;">article = Article.new</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5b6c9cf725f23213137107-5"></a><span style=" font-family:'DejaVu Sans'; font-size:11pt;">^</span><span style=" font-family:'DejaVu Sans'; font-size:11pt;">95d69a196b5c7 (Jhon Smith  2018-05-18 13:04:22 +0200 13) end</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5b6c9cf725f23213137107-6"></a><span style=" font-family:'DejaVu Sans'; font-size:11pt;">3</span><span style=" font-family:'DejaVu Sans'; font-size:11pt;">171aa2dbbce7</span><span style=" font-family:'DejaVu Sans'; font-size:11pt;"> (David Smith 2018-05-16 18:21:30 +0200 14) def edit</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5b6c9cf725f23213137107-7"></a><span style=" font-family:'DejaVu Sans'; font-size:11pt;">3</span><span style=" font-family:'DejaVu Sans'; font-size:11pt;">171aa2dbbce7</span><span style=" font-family:'DejaVu Sans'; font-size:11pt;"> (David Smith 2018-05-16 18:21:30 +0200 15) </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5b6c9cf725f23213137107-8"></a><span style=" font-family:'DejaVu Sans'; font-size:11pt;">@</span><span style=" font-family:'DejaVu Sans'; font-size:11pt;">article = Article.find(params[:id])</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5b6c9cf725f23213137107-9"></a><span style=" font-family:'DejaVu Sans'; font-size:11pt;">3</span><span style=" font-family:'DejaVu Sans'; font-size:11pt;">171aa2dbbce7</span><span style=" font-family:'DejaVu Sans'; font-size:11pt;"> (David Smith 2018-05-16 18:21:30 +0200 16) end</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5b6c9cf725f23213137107-10"></a><span style=" font-family:'DejaVu Sans'; font-size:11pt;">^</span><span style=" font-family:'DejaVu Sans'; font-size:11pt;">95d69a196b5c7 (Jhon Smith  2018-05-18 13:04:22 +0200 17) def create</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5b6c9cf725f23213137107-11"></a><span style=" font-family:'DejaVu Sans'; font-size:11pt;">3</span><span style=" font-family:'DejaVu Sans'; font-size:11pt;">171aa2dbbce7</span><span style=" font-family:'DejaVu Sans'; font-size:11pt;"> (David Smith 2018-05-16 18:21:30 +0200 18) </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5b6c9cf725f23213137107-12"></a><span style=" font-family:'DejaVu Sans'; font-size:11pt;">@</span><span style=" font-family:'DejaVu Sans'; font-size:11pt;">article = Article.new(article_params)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5b6c9cf725f23213137107-13"></a><span style=" font-family:'DejaVu Sans'; font-size:11pt;">^</span><span style=" font-family:'DejaVu Sans'; font-size:11pt;">95d69a196b5c7 (Jhon Smith  2018-05-18 13:04:22 +0200 19) if @article.save</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5b6c9cf725f23213137107-14"></a><span style=" font-family:'DejaVu Sans'; font-size:11pt;">^</span><span style=" font-family:'DejaVu Sans'; font-size:11pt;">95d69a196b5c7 (Jhon Smith  2018-05-18 13:04:22 +0200 20) redirect_to @article</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5b6c9cf725f23213137107-15"></a><span style=" font-family:'DejaVu Sans'; font-size:11pt;">^</span><span style=" font-family:'DejaVu Sans'; font-size:11pt;">95d69a196b5c7 (Jhon Smith  2018-05-18 13:04:22 +0200 21) else</span></p></td></tr></table>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu Sans'; font-size:11pt;">Эта команда выведет информацию о строках с 11 по 21 файла </span><span style=" font-family:'Courier New,courier'; font-size:11pt;">new_file</span><span style=" font-family:'DejaVu Sans'; font-size:11pt;">. Первой идет неполная сумма SHA-1. Она соответствует тому коммиту, который последним изменял строку. Также указан автор и дата изменения. Префиксом </span><span style=" font-family:'Courier New,courier'; font-size:11pt;">^</span><span style=" font-family:'DejaVu Sans'; font-size:11pt;"> отмечены те строки, которые не изменялись с самого начала проекта.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu Sans'; font-size:11pt;">У команды также есть </span><a href="https://git-scm.com/book/en/v2/Git-Tools-Debugging-with-Git#_file_annotation"><span style=" font-family:'DejaVu Sans'; font-size:11pt; text-decoration: underline; color:#0000ff;">опция </span></a><a href="https://git-scm.com/book/en/v2/Git-Tools-Debugging-with-Git#_file_annotation"><span style=" font-family:'Courier New,courier'; font-size:11pt; text-decoration: underline; color:#0000ff;">-C</span></a><span style=" font-family:'DejaVu Sans'; font-size:11pt;">, которая позволяет выяснить, откуда были скопированы фрагменты кода. Вне зависимости от проведенного рефакторинга, она обнаружит оригинального автора.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-size:11pt;">$ git blame -L -C 11,21 &lt;file_path/file_name&gt;</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu Sans'; font-size:11pt;">Команда </span><span style=" font-family:'Courier New,courier'; font-size:11pt;">git blame</span><span style=" font-family:'DejaVu Sans'; font-size:11pt;"> очень полезна, если известна причина проблемы. Но иногда совершенно непонятно, как вернуться к рабочему состоянию сломанного кода. Здесь в игру вступает </span><span style=" font-family:'Courier New,courier'; font-size:11pt;">git bisect</span><span style=" font-family:'DejaVu Sans'; font-size:11pt;">.</span></p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu Sans'; font-size:11pt; font-weight:600;">Git Bisect</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu Sans'; font-size:11pt;">Git bisect — это </span><a href="https://kolosek.com/rails-debugging/"><span style=" font-family:'DejaVu Sans'; font-size:11pt; text-decoration: underline; color:#0000ff;">инструмент отладки</span></a><span style=" font-family:'DejaVu Sans'; font-size:11pt;">, который используется для определения причины ошибки. Выполняя </span><a href="https://labs.consol.de/development/git/2018/01/12/automated-debugging-with-git.html"><span style=" font-family:'DejaVu Sans'; font-size:11pt; text-decoration: underline; color:#0000ff;">автоматический двоичный поиск</span></a><span style=" font-family:'DejaVu Sans'; font-size:11pt;">, он находит конкретный коммит-виновник. Но изначально неизвестно, какой именно файл проекта содержит баг.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu Sans'; font-size:11pt;">Если непонятно, что сломалось, а с момента последнего стабильного состояния уже сделано много изменений, стоит обратиться за помощью к git bisect.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="2.png" width="532" height="170" /></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu Sans'; font-size:11pt;">Команда </span><span style=" font-family:'Courier New,courier'; font-size:11pt;">git bisect</span><span style=" font-family:'DejaVu Sans'; font-size:11pt;"> делит </span><a href="https://kolosek.com/git-branches/"><span style=" font-family:'DejaVu Sans'; font-size:11pt; text-decoration: underline; color:#0000ff;">дерево коммитов</span></a><span style=" font-family:'DejaVu Sans'; font-size:11pt;"> на «хорошие», в которых нет багов, и «плохие». Основываясь на результатах тестов, Git перемещается по последним фиксациям, идентифицируя каждую из них, пока не найдет преступника. Этот процесс известен как алгоритм бинарного поиска.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu Sans'; font-size:11pt;">Если ошибок несколько, следует выполнить двоичный поиск для каждой из них.</span></p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu Sans'; font-size:11pt; font-weight:600;">Отладка с git bisect</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu Sans'; font-size:11pt; font-weight:600;">1.</span><span style=" font-family:'DejaVu Sans'; font-size:11pt;"> Прежде всего, нужно запустить режим бинарного поиска командой </span><span style=" font-family:'Courier New,courier'; font-size:11pt;">$ git bisect start</span><span style=" font-family:'DejaVu Sans'; font-size:11pt;">.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu Sans'; font-size:11pt; font-weight:600;">2.</span><span style=" font-family:'DejaVu Sans'; font-size:11pt;"> Теперь необходимо найти коммит, в котором программа еще работает правильно. Его можно выбрать из истории изменений с помощью инструкции </span><span style=" font-family:'Courier New,courier'; font-size:11pt;">$git log --oneline</span><span style=" font-family:'DejaVu Sans'; font-size:11pt;">.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu Sans'; font-size:11pt;">Опция </span><span style=" font-family:'Courier New,courier'; font-size:11pt;">--online</span><span style=" font-family:'DejaVu Sans'; font-size:11pt;"> обеспечивает компактный вывод.</span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5b6c9cf725f34338322034"></a><span style=" font-family:'DejaVu Sans'; font-size:11pt;">$</span><span style=" font-family:'DejaVu Sans'; font-size:11pt;"> git log --onelinef11c599 Removed unnecessary lines95d69a1 Added article tests3171aa2 Enabled editing articles95d69a1 Added articles</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'DejaVu Sans'; font-size:11pt;"><br /></p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" cellspacing="2" cellpadding="0">
<tr>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu Sans'; font-size:11pt;">1</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu Sans'; font-size:11pt;">2</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu Sans'; font-size:11pt;">3</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu Sans'; font-size:11pt;">4</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu Sans'; font-size:11pt;">5</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5b6c9cf725f34338322034-1"></a><span style=" font-family:'DejaVu Sans'; font-size:11pt;">$</span><span style=" font-family:'DejaVu Sans'; font-size:11pt;"> git log --oneline</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5b6c9cf725f34338322034-2"></a><span style=" font-family:'DejaVu Sans'; font-size:11pt;">f</span><span style=" font-family:'DejaVu Sans'; font-size:11pt;">11c599 </span><span style=" font-family:'DejaVu Sans'; font-size:11pt;">Removed unnecessary lines</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5b6c9cf725f34338322034-3"></a><span style=" font-family:'DejaVu Sans'; font-size:11pt;">9</span><span style=" font-family:'DejaVu Sans'; font-size:11pt;">5d69a1</span><span style=" font-family:'DejaVu Sans'; font-size:11pt;"> Added article tests</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5b6c9cf725f34338322034-4"></a><span style=" font-family:'DejaVu Sans'; font-size:11pt;">3</span><span style=" font-family:'DejaVu Sans'; font-size:11pt;">171aa2</span><span style=" font-family:'DejaVu Sans'; font-size:11pt;"> Enabled editing articles</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-5b6c9cf725f34338322034-5"></a><span style=" font-family:'DejaVu Sans'; font-size:11pt;">9</span><span style=" font-family:'DejaVu Sans'; font-size:11pt;">5d69a1</span><span style=" font-family:'DejaVu Sans'; font-size:11pt;"> Added articles</span></p></td></tr></table>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu Sans'; font-size:11pt; font-weight:600;">3.</span><span style=" font-family:'DejaVu Sans'; font-size:11pt;"> Последний хороший коммит нужно отметить, используя команду </span><span style=" font-family:'Courier New,courier'; font-size:11pt;">$ git bisect good 95d691</span><span style=" font-family:'DejaVu Sans'; font-size:11pt;">.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu Sans'; font-size:11pt; font-weight:600;">4.</span><span style=" font-family:'DejaVu Sans'; font-size:11pt;"> После этого необходимо найти «плохое» изменение. Тогда git сможет разделить дерево коммитов и применить алгоритм бинарного поиска. Точно известно, что последняя фиксация кода содержит ошибку, значит, ее можно назначить «плохой».</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-size:11pt;">$ git bisect bad f11c599</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu Sans'; font-size:11pt; font-weight:600;">5.</span><span style=" font-family:'DejaVu Sans'; font-size:11pt;"> Теперь, когда начальный и конечный указатели расставлены, Git пройдет по </span><a href="https://kolosek.com/git-branches/"><span style=" font-family:'DejaVu Sans'; font-size:11pt; text-decoration: underline; color:#0000ff;">всем коммитам</span></a><span style=" font-family:'DejaVu Sans'; font-size:11pt;"> между ними. Каждый из них нужно будет протестировать и отметить как «хороший» или «плохой».</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu Sans'; font-size:11pt; font-weight:600;">6.</span><span style=" font-family:'DejaVu Sans'; font-size:11pt;"> Процесс продолжается до тех пор, пока не будет обнаружено первое «плохое» изменение. После этого можно выйти из режима бинарного поиска, введя </span><span style=" font-family:'Courier New,courier'; font-size:11pt;">$ git bisect reset</span><span style=" font-family:'DejaVu Sans'; font-size:11pt;">.</span></p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu Sans'; font-size:11pt; font-weight:600;">Git Grep</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-size:11pt;">$ git grep </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://kolosek.com/git-commands-tutorial-part2/"><span style=" font-family:'DejaVu Sans'; font-size:11pt; text-decoration: underline; color:#0000ff;">Команда</span></a><span style=" font-family:'DejaVu Sans'; font-size:11pt;"> </span><span style=" font-family:'Courier New,courier'; font-size:11pt;">git grep</span><span style=" font-family:'DejaVu Sans'; font-size:11pt;"> дает возможность быстро и эффективно искать по шаблону, заданному регулярным выражением. Поиск производится во всех файлах проекта, кроме тех, которые указаны в </span><span style=" font-family:'Courier New,courier'; font-size:11pt;">.gitignore</span><span style=" font-family:'DejaVu Sans'; font-size:11pt;">.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu Sans'; font-size:11pt;">Аббревиатура GREP расшифровывается как Global Regular Expression Print (глобальный поиск и вывод строк, соответствующих регулярному выражению).</span></p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu Sans'; font-size:11pt; font-weight:600;">Дополнительные опции</span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'DejaVu Sans'; font-size:11pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Флаги <span style=" font-family:'Courier New,courier';">-n</span> и <span style=" font-family:'Courier New,courier';">--line-number</span> выводят номера строк, в которых Git нашел совпадения.</li>
<li style=" font-family:'DejaVu Sans'; font-size:11pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Настройка <span style=" font-family:'Courier New,courier';">-i</span>, или <span style=" font-family:'Courier New,courier';">--ignore-case</span> игнорирует разницу в регистре символов между шаблоном и найденным фрагментом.</li>
<li style=" font-family:'DejaVu Sans'; font-size:11pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Опции <span style=" font-family:'Courier New,courier';">-c</span> и<span style=" font-family:'Courier New,courier';">--count</span> подсчитывают количество совпадений в файле;</li>
<li style=" font-family:'DejaVu Sans'; font-size:11pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Чтобы отобразить найденный ключ в контексте метода или функции, следует указать <span style=" font-family:'Courier New,courier';">-p</span> или <span style=" font-family:'Courier New,courier';">--show-function</span>.</li>
<li style=" font-family:'DejaVu Sans'; font-size:11pt;" style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Для множественных совпадений используется флаг <span style=" font-family:'Courier New,courier';">--and</span>.</li></ul>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu Sans'; font-size:11pt; font-weight:600;">Удобная отладка</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu Sans'; font-size:11pt;">Если известно, где прячется ошибка, ее можно локализовать с помощью </span><span style=" font-family:'Courier New,courier'; font-size:11pt;">git blame</span><span style=" font-family:'DejaVu Sans'; font-size:11pt;">. Однако, если в репозитории много коммитов и большая история изменений, стоит обратиться к </span><span style=" font-family:'Courier New,courier'; font-size:11pt;">git bisect</span><span style=" font-family:'DejaVu Sans'; font-size:11pt;">.<br />Строку или регулярное выражение в проекте легко найти, используя </span><span style=" font-family:'Courier New,courier'; font-size:11pt;">git grep</span><span style=" font-family:'DejaVu Sans'; font-size:11pt;">.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu Sans'; font-size:11pt;">Отладка кода с этими тремя git-инструментами становится намного проще.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu Sans'; font-size:11pt;">Перевод статьи </span><a href="https://dev.to/neshaz"><span style=" font-family:'DejaVu Sans'; font-size:11pt; text-decoration: underline; color:#0000ff;">Nesha Zoric</span></a><span style=" font-family:'DejaVu Sans'; font-size:11pt;">: </span><a href="https://dev.to/neshaz/debugging-with-git-eba"><span style=" font-family:'DejaVu Sans'; font-size:11pt; text-decoration: underline; color:#0000ff;">Debugging with Git</span></a></p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu Sans'; font-size:11pt; font-weight:600;">Другие материалы по теме:</span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'DejaVu Sans'; font-size:11pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://proglib.io/p/git-tips/"><span style=" text-decoration: underline; color:#0000ff;">Cистема контроля версий Git: расширенная шпаргалка</span></a></li>
<li style=" font-family:'DejaVu Sans'; font-size:11pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://proglib.io/p/10-tips-git/"><span style=" text-decoration: underline; color:#0000ff;">10 полезных Git команд, которые облегчат работу</span></a></li>
<li style=" font-family:'DejaVu Sans'; font-size:11pt;" style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://proglib.io/p/git-guide/"><span style=" text-decoration: underline; color:#0000ff;">Гайды по работе с Git</span></a></li></ul></body></html>