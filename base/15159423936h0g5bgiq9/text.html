<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'MS Shell Dlg 2'; font-size:9pt; font-weight:400; font-style:normal;">
<p style=" margin-top:18px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:xx-large; font-weight:600;">2. Использование интерпретатора Python </span></p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="aswift_0_expand"></a><span style=" font-size:x-large; font-weight:600;">2</span><span style=" font-size:x-large; font-weight:600;">.1. Вызов интерпретатора</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Интерпретатор Python обычно устанавливается по адресу <span style=" font-family:'Courier New,courier';">/usr/local/bin/python3.6</span> на тех машинах, где это возможно; размещение в /usr/local/bin делает возможным поиску пути вашей командной оболочки Unix запустить его, набрав команду: </p>
<pre style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">python3.6</span> </pre>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">в оболочке. <a name="id2"></a><a href="http://pythoner.name/documentation/tutorial/interpreter#id1"><span style=" text-decoration: underline; color:#0000ff;">[</span></a><span style=" text-decoration: underline; color:#0000ff;">1]</span> Поскольку выбор каталога, в котором находится интерпретатор, определяется установкой, то возможны другие места; свяжитесь с вашим местным гуру Python или системным администратором. (Например, <span style=" font-family:'Courier New,courier';">/usr/local/python</span> распространенное альтернативное место.) </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Как правило, на компьютерах с Windows установка Python производится в <span style=" font-family:'Courier New,courier';">C:\Python36</span>, хотя вы можете изменить это в процессе установки. Чтобы добавить эту директорию к вашему пути, вы можете ввести следующую команду в командной строке DOS: </p>
<pre style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">set path=%path%;C:\python36</span> </pre>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Ввод символа конца файла (<span style=" font-family:'Courier New,courier';">Control-D</span> на Unix, <span style=" font-family:'Courier New,courier';">Control-Z</span> на Windows) в строке приглашения заставляет интерпретатор выйти со статусом нулевого выхода. Если это не работает, вы можете выйти из интерпретатора, введя следующую команду: <span style=" font-family:'Courier New,courier';">quit()</span>. </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Особенности строки ввода интерпретатора включают интерактивное редактирование, подстановка истории и завершение кода на системах, которые поддерживают readline (библиотеку, осуществляющую совместное с оболочкой автозавершение - прим. пер.). Вероятно самый быстрый способ увидеть, поддерживается ли редактирование командной строки, это ввести <span style=" font-family:'Courier New,courier';">Control-P</span> в первой строке приглашения Python, полученной вами. Если есть звуковой сигнал, то у вас редактируемая командная строка; см. дополнение <a href="http://pythoner.name/documentation/tutorial/tab-history"><span style=" text-decoration: underline; color:#0000ff;">Редактирование интерактивного ввода и подстановка истории</span></a> для знакомства с ключами. Если ничего не происходит или если ^P повторяется, то редактирование командной строки недоступно; вы сможете только использовать Backspace для удаления символов из текущей строки. </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">В некоторой степени интерпретатор работает как оболочка Unix: при вызове со стандартного ввода, подключенного к устройству tty, он читает и выполняет команды интерактивно; при вызове с именем файла в качестве аргумента или с файлом в качестве стандартного ввода, он читает и выполняет скрипт из этого файла. </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Второй способ запуска интерпретатора: <span style=" font-family:'Courier New,courier';">python -c command [arg] ...</span>, который выполняет оператор(ы) в <span style=" font-style:italic;">command</span>, аналогично опции -c (docs.python.org/3/using/cmdline.html#cmdoption-c) командной оболочки. Поскольку выражения Python часто содержат пробелы или другие символы, которые имеют специальное значение для оболочки, то обычно рекомендуется цитировать <span style=" font-style:italic;">command</span> целиком в одинарных кавычках. </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Некоторые модули Python также полезны как скрипты. Они могут быть вызваны с помощью <span style=" font-family:'Courier New,courier';">python -m module [arg] ...</span>, который выполняет код файла <span style=" font-family:'Courier New,courier';">module</span>, как если бы вы написали его полное имя в командной строке. </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">При использовании файла скрипта, иногда полезно иметь возможность запустить скрипт и потом войти в интерактивный режим. Это может быть сделано путем передачи -i (docs.python.org/3/using/cmdline.html#cmdoption-i) перед скриптом. </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Все опции командной строки описаны в Command line and environment (docs.python.org/3/using/cmdline.html#using-on-general). </p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:large; font-weight:600;">2.1.1. Передача аргумента</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Как известно для интерпретатора имя скрипта и дополнительные аргументы впоследствии превращаются в список строк и присваиваются переменной <span style=" font-family:'Courier New,courier';">argv</span> модуля <span style=" font-family:'Courier New,courier';">sys</span>. Вы можете обращаться к этому списку, выполняя <span style=" font-family:'Courier New,courier';">import sys</span>. Длина списка по крайней мере равна одному; когда не передано ни одного скрипта и аргумента, то <span style=" font-family:'Courier New,courier';">sys.argv[0]</span> является пустой строкой. Когда имя скрипта передается как <span style=" font-family:'Courier New,courier';">'-'</span> (означает стандартный ввод), <span style=" font-family:'Courier New,courier';">sys.argv[0]</span> устанавливается в <span style=" font-family:'Courier New,courier';">'-'</span>. При использовании -c (docs.python.org/3/using/cmdline.html#cmdoption-c) <span style=" font-style:italic;">command</span>, <span style=" font-family:'Courier New,courier';">sys.argv[0]</span> устанавливается в <span style=" font-family:'Courier New,courier';">'-c'</span>. При использовании -m (docs.python.org/3/using/cmdline.html#cmdoption-m) <span style=" font-style:italic;">module</span>, <span style=" font-family:'Courier New,courier';">sys.argv[0]</span> устанавливается к полному имени местонахождения модуля. Опции, обнаруженные после -c (docs.python.org/3/using/cmdline.html#cmdoption-c) <span style=" font-style:italic;">command</span> или -m (docs.python.org/3/using/cmdline.html#cmdoption-m) <span style=" font-style:italic;">module</span> не потребляются обработчиком опций интерпретатора Python, а оставляются в <span style=" font-family:'Courier New,courier';">sys.argv</span> для обработки командой или модулем. </p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:large; font-weight:600;">2.1.2. Интерактивный режим</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Когда команды считываются из tty (терминала - прим. пер.), интерпретатору говорится быть в <span style=" font-style:italic;">interactive mode</span> (интерактивном режиме - прим. пер.). В этом режиме он предлагает ввести следующую команды с <span style=" font-style:italic;">primary promp</span> (первичного приглашения - прим. пер.), обычно три знака &quot;больше, чем&quot; (<span style=" font-family:'Courier New,courier';">&gt;&gt;&gt;</span>); для продолжения строк он подсказывает с <span style=" font-style:italic;">secondary prompt</span> (вторичного приглашения - прим. пер.), по умолчанию три точки (<span style=" font-family:'Courier New,courier';">...</span>). Интерпретатор выводит приветственное сообщение, начинающееся с его номера версии и уведомления об авторских правах, перед выводом первого приглашения: </p>
<pre style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">$ python3.6</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">Python 3.6 (default, Sep 16 2015, 09:25:04)</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">[GCC 4.8.2] on linux</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">Type &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.</span></pre>
<pre style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">&gt;&gt;&gt;</span> </pre>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Продолжение строк необходимо при вводе многострочной конструкции. В качестве примера посмотрите на это выражение if (docs.python.org/3/reference/compound_stmts.html#if): </p>
<pre style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">&gt;&gt;&gt; the_world_is_flat = True</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">&gt;&gt;&gt; if the_world_is_flat:</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">...     print(&quot;Be careful not to fall off!&quot;)</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">...</span></pre>
<pre style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">Be careful not to fall off!</span> </pre>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Чтобы узнать больше об интерактивном режиме, смотрите <a href="http://pythoner.name/documentation/tutorial/appendix"><span style=" text-decoration: underline; color:#0000ff;">Интерактивный режим</span></a>. </p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:x-large; font-weight:600;">2.2. Интерпретатор и его окружение</span> </p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:large; font-weight:600;">2.2.1. Кодировка исходного кода</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">По умолчанию исходные файлы Python рассматриваются как кодированные в UTF-8. В этой кодировке символы большинства языков мира могут быть использованы одновременно в строковых литералах, идентификаторах и комментариях - хотя стандартная библиотека использует только символы ASCII для идентификаторов, это соглашение, которому должен следовать любой переносимый код. Чтобы отобразить все эти символы должным образом, ваш редактор должен распознавать, что файл в кодировке UTF-8, и он должен использовать шрифт, который поддерживает все символы в файле. </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Чтобы объявить кодировку отличную от той, что используется по-умолчанию, первой строкой файла должна быть добавлена специальная строка комментария. Синтаксис такой как следующий: </p>
<pre style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';"># -*- coding: encoding -*-</span> </pre>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">где <span style=" font-style:italic;">encoding </span>одна из действующих codecs (docs.python.org/3/library/codecs.html#module-codecs), поддерживаемых Python. </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Например, чтобы объявить, что используется кодировка Windows-1252, первая строка в вашем файле исходного кода должна быть: </p>
<pre style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';"># -*- coding: cp-1252 -*-</span> </pre>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Есть одно исключение из правила первой строки: когда исходный код начинается с <a href="http://pythoner.name/documentation/tutorial/appendix#tut-scripts"><span style=" text-decoration: underline; color:#0000ff;">UNIX &quot;shebang&quot; line</span></a>. В этом случае объявление кодировки должно быть добавлено второй строкой файла. Например: </p>
<pre style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">#!/usr/bin/env python3</span></pre>
<pre style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';"># -*- coding: cp-1252 -*-</span> </pre>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">Примечания</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="id1"></a><a href="http://pythoner.name/documentation/tutorial/interpreter#id2"><span style=" text-decoration: underline; color:#0000ff;">[</span></a><span style=" text-decoration: underline; color:#0000ff;">1]</span> В Unix интерпретатор Python 3.x не устанавливается по-умолчанию с исполняемым именем <span style=" font-family:'Courier New,courier';">python</span>, так что нет конфликта с одновременно установленным Python 2.x.</p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:large; font-weight:600;">Создано</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">2015-08-03 </p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:large; font-weight:600;">Обновлено</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">2017-04-26 </p></body></html>