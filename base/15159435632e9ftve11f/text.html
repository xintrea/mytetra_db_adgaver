<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'MS Shell Dlg 2'; font-size:9pt; font-weight:400; font-style:normal;">
<p style=" margin-top:18px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:xx-large; font-weight:600;">2. Лексический анализ </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="aswift_0_expand"></a>Программа на Python читается синтаксическим анализатором (<span style=" font-style:italic;">parser</span>). В парсер вводится поток символов (<span style=" font-style:italic;">tokens</span>), генерируемых лексическим анализатором (<span style=" font-style:italic;">lexical analyzer</span>). В этой главе описывается, как лексический анализатор разбивает файл на токены. </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Python читает текст программы как элементы кода Unicode; кодировка исходного файла может быть задана объявлением кодировки и по-умолчанию является UTF-8, детали см. PEP 3120 (www.python.org/dev/peps/pep-3120). Если файл исходного кода не может быть декодирован возникает ошибка SyntaxError (docs.python.org/3/library/exceptions.html#SyntaxError). </p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:x-large; font-weight:600;">2.1. Структура строки (линии)</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Программа на Python разделена на ряд логических строк (<span style=" font-style:italic;">logical lines</span>). </p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:large; font-weight:600;">2.1.1. Логические строки (линии)</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Конец логической строки представлен символом NEWLINE. Выражения не могут пересекать границы логической линии, за исключением случаев, когда NEWLINE допускается синтаксисом (например, между выражениями в составных операторах). Логическая линия состоит из одной или более физических линий в соответствии с явными или неявными правилами объединения строк. </p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:large; font-weight:600;">2.1.2. Физические линии</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Физическая линия есть последовательность символов, ограниченная последовательностью конца строки. В файлах исходников может использоваться любой прерыватель для строки, стандартный для платформы, - в Unix обрабатывается с помощью ASCII LF (linefeed - символ новой строки), в Windows - с помощью ASCII-последовательности CR LF (возврат, за которым следует новая строка), на старом Macintosh - символ возврата (ASCII CR). Все эти формы могут одинаково быть использованы, независимо от платформы. </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">При встраивании Python, строки исходного кода следует передавать API Питона с помощью стандартных соглашений C для символа новой строки (это символ <span style=" font-family:'Courier New,courier';">\n</span>, представляющий ASCII LF, который является завершителем линии). </p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:large; font-weight:600;">2.1.3. Комментарии</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Комментарий начинается с символа хэша (<span style=" font-family:'Courier New,courier';">#</span>), который не является частью строкового литерала и заканчивается концом физической строки. Комментарий обозначает конец логической линии, если не задействованы неявные правила присоединения строки. Комментарии игнорируются синтаксисом; они не являются символами. </p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="encodings"></a><span style=" font-size:large; font-weight:600;">2</span><span style=" font-size:large; font-weight:600;">.1.4. Объявления кодировки</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Если комментарий в первой или второй строке скрипта Python соответствует регулярному выражению <span style=" font-family:'Courier New,courier';">coding[=:]\s*([-\w.]+)</span>, такой комментарий обрабатывается как объявление кодировки; первая группа этого выражения называется кодировкой файла с исходным кодом. Объявление кодировки должно появляться в отдельной строке. Если это вторая строка, первая должна также быть только комментарием. Рекомендуемая форма выражения с кодировкой </p>
<pre style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';"># -*- coding: &lt;encoding-name&gt; -*-</span> </pre>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">которая также распознается GNU Emacs, и  </p>
<pre style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';"># vim:fileencoding=&lt;encoding-name&gt;</span> </pre>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">которая распознается VIM Bram Moolenaar'а. </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Если объявления кодировки не обнаружено, по-умолчанию будет UTF-8. Кроме того, если первыми байтами файла является последовательность байтов-знаков UTF-8 (<span style=" font-family:'Courier New,courier';">b'\xef\xbb\xbf'</span>), объявленной кодировкой файла является UTF-8 (среди других она поддерживается блокнотом Майкрософта). </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Если кодировка объявлена, название кодировки должно быть распознано Питоном. Кодировка используется для всего лексического анализа, включая строковые литералы, комментарии и идентификаторы.  </p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:large; font-weight:600;">2.1.5. Явное объединение линий</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Две и более физических линии могут быть объединены в логические линии с помощью символов обратного слэша (<span style=" font-family:'Courier New,courier';">\</span>) следующим образом: когда физическая линия заканчивается обратным слэшем, который не является частью строкового литерала или комментария, она объединяется со следующей одиночной логической линией, удаляя бэкслэш и последующий символ конца стоки. Например: </p>
<pre style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">if 1900 &lt; year &lt; 2100 and 1 &lt;= month &lt;= 12 \</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">   and 1 &lt;= day &lt;= 31 and 0 &lt;= hour &lt; 24 \</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">   and 0 &lt;= minute &lt; 60 and 0 &lt;= second &lt; 60:   # Выглядит как нормальная дата</span></pre>
<pre style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">        return 1</span> </pre>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Линия, заканчивающаяся бэкслэшем, не может включать комментарий. Бэкслэш не продолжает комментарий. Обратная косая черта не продолжает токен, за исключением строковых литералов (напр., токены нестроковых литералов не могут быть разделены на физичекие линии с помощью бэкслеша). Бэкслэш недопустим еще где-либо в строке вне строкового литерала. </p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:large; font-weight:600;">2.1.6. Неявное объединение линий</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Выражения в круглых, квадратных или фигурных скобках могут быть разделены больше чем на одну физическую линию без использования бэкслэшей. Например: </p>
<pre style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">month_names = ['Januari', 'Februari', 'Maart',      # These are the</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">               'April',   'Mei',      'Juni',       # Dutch names</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">               'Juli',    'Augustus', 'September',  # for the months</span></pre>
<pre style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">               'Oktober', 'November', 'December']   # of the year</span> </pre>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Неявно продолженные линии могут содержать комментарии. Отступ продолжения линии не важен. Позволены пустые продолжения линий. Символа NEWLINE нет между неявными продолжениями линий. Неявно продолженные линии могут также случаться внутри заключенных в тройные кавычки строк (см. ниже); в этом случае они не могут содержать комментарии. </p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:large; font-weight:600;">2.1.7. Пустые линии</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Логические линии, которые содержат только пробелы, табуляции, перевод строки и возможно комментарий, игнорируются (напр., не образуется символ новой строки). Во время интерактивного ввода выражений, обработка пустой линии может отличаться в зависимости от реализации цикла чтение-вычисление-вывод. В стандартном интерактивном интерпретаторе, полностью пустая логическая строка (например, не содержащая даже пробела и комментария) заканчивает многострочный оператор. </p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:large; font-weight:600;">2.1.8. Отступ</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Лидирующие пробелы (пробелы и табуляции) в начале логической линии используются для определения уровня отступа линии, который, в свою очередь, используется для определения сгруппированных выражений. </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Табуляции заменяются (слева направо) от одного до восьми пробелами, так что общее количество символов до замены включает в себя кратность восьми (это должно быть то же правило, которое используется в Unix). Общее количество пробелов, предшествующих общему непробельному символу, затем определяет отступ строки. Отступ не может быть разделен на несколько физических линий бэкслэшем; пробелы вплоть до первого бэкслэша определяют отступ. </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Отступ отвергается как противоречивый, если в фале исходного кода смешаны табуляции и пробелы таким способом, что значение зависит от оценки табуляции в пробелы; в этом случае возбуждается TabError (https://docs.python.org/3/library/exceptions.html#TabError). </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Заметка о кросс-платформенной совместимости: из-за характера текстовых редакторов на платформах, отличных от UNIX, нецелесообразно использовать смесь пробелов и табуляций для отступов в одном исходном файле. Также следует отметить, что различные платформы могут явно ограничивать максимальный уровень отступа. </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Символ formfeed может присутствовать в начале линии; он будет проигнорирован для расчета отступов выше. Эти символы, случающиеся где-либо в лидирующих пробелах, имеют неопределенный эффект (например, они могут сбросить счетчик пробелов в ноль). </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Уровни отступов последовательных линий используются для генерации токенов INDENT (отступить) и DEDENT (выровнять), использующим стек, согласно следующему. </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Перед первой линией читаемого файла одиночный ноль заталкивается в стек; он никогда не будет вытолкнут опять. Количество заталкиваний в стек будет всегда строго увеличивающимся снизу вверх. В начале каждой логической линии ее уровень отступа сравнивается с верхушкой стека. Если он равен, ничего не происходит. Если больше, то помещается в стек, и генерируется токен INDENT. Если меньше, то он должен быть одним из чисел, содержащихся в стеке; все числа в стеке, которые больше, извлекаются, и для каждого вытолкнутого числа генерируется токен DEDENT. В конце файла токен DEDENT генерируется для каждого числа, оставшегося в стеке, которое больше нуля. </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Вот пример корректного (хотя сбивающего с толку) куска кода Python с отступами: </p>
<pre style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">def perm(l):</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">        # Compute the list of all permutations of l</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    if len(l) &lt;= 1:</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">                  return [l]</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    r = []</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    for i in range(len(l)):</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">             s = l[:i] + l[i+1:]</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">             p = perm(s)</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">             for x in p:</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">              r.append(l[i:i+1] + x)</span></pre>
<pre style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    return r</span> </pre>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Следующий пример показывает различные ошибки отступа: </p>
<pre style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';"> def perm(l):                       # ошибка: отступ в первой строке</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">for i in range(len(l)):             # ошибка: нет отступа</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">    s = l[:i] + l[i+1:]</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">        p = perm(l[:i] + l[i+1:])   # ошибка: неожиданный отступ</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">        for x in p:</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">                r.append(l[i:i+1] + x)</span></pre>
<pre style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">            return r                # ошибка: противоречивое выравнивание</span> </pre>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">(В действительности, первые три ошибки обнаруживаются парсером; только последняя ошибка находится лексическим анализатором - отступ в return r не соответствует уровню выталкивания стека.) </p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:large; font-weight:600;">2.1.9. Пробельные символы между токенами</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">За исключением начала логической линии или в строковом литерале, символы пробела, табуляции и formfeed могут быть использованы взаимозаменяемо для разделения токенов. Пробельные символы нужны между двумя токенами, только если в противном случае их соединение могло бы быть интерпретировано как другой токен (например, ab - это один токен, но a b - два токена). </p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:x-large; font-weight:600;">2.2. Другие токены</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Кроме NEWLINE, INDENT и DEDENT, существуют следующие категории токенов: идентификаторы, ключевые слова, литералы, операторы и разделители. Пробельные символы (другие, чем терминаторы линии, обсуждаемые ранее) не являются токенами, но служат их разграничителями. Где существует двусмысленность, токен заключает в себе самую длинную возможную строку, которая создает правильный токен, когда чтение идет слева направо. </p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:x-large; font-weight:600;">2.3. Идентификаторы и ключевые слова</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Идентификаторы (также называемые именами) описываются следующими лексическими определениями. </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Синтаксис идентификаторов в Python основывается на приложении UAX-31 к стандарту Unicode с разработкой и изменениями как определено ниже; см. также PEP 3131 (python.org/dev/peps/pep-3131) для более детальной информации. </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">В диапазоне ASCII (U+0001..U+007F) валидными символами для идентификаторов являются те же самые, что и для Python 2.x: буквы в верхнем и нижнем регистре от <span style=" font-family:'Courier New,courier';">A</span> до <span style=" font-family:'Courier New,courier';">Z</span>, символ подчеркивания <span style=" font-family:'Courier New,courier';">_</span> и за исключением первого символа цифры от <span style=" font-family:'Courier New,courier';">0</span> до <span style=" font-family:'Courier New,courier';">9</span>.  </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Python 3.0 вводит дополнительные символы за пределами диапазона ASCII (см. PEP 3131). Для этих символов классификация использует версию Unicode Character Database (база данных символов Юникод) как включенную в модуль unicodedata (docs.python.org/3/library/unicodedata.html#module-unicodedata). </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Идентификаторы не ограничены по длине. Регистр имеет значение. </p>
<pre style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">identifier   ::=  xid_start xid_continue*</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">id_start     ::=  &lt;all characters in general categories Lu, Ll, Lt, Lm, Lo, Nl, the underscore, and characters with the Other_ID_Start property&gt;</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">id_continue  ::=  &lt;all characters in id_start, plus characters in the categories Mn, Mc, Nd, Pc and others with the Other_ID_Continue property&gt;</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">xid_start    ::=  &lt;all characters in id_start whose NFKC normalization is in &quot;id_start xid_continue*&quot;&gt;</span></pre>
<pre style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">xid_continue ::=  &lt;all characters in id_continue whose NFKC normalization is in &quot;id_continue*&quot;&gt;</span> </pre>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Коды категорий Unicode, упомянутые выше, означают: </p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic;">Lu</span> - буквы в верхнем регистре </li>
<li style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic;">Ll</span> - буквы в нижнем регистре </li>
<li style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic;">Lt</span> - буквы в стиле заголовка </li>
<li style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic;">Lm</span> - буквы-модификаторы </li>
<li style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic;">Lo</span> - другие буквы </li>
<li style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic;">Nl</span> - номера букв </li>
<li style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic;">Mn</span> - неинтервальные метки </li>
<li style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic;">Mc</span> - интервальные сочетания меток </li>
<li style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic;">Nd</span> - десятичные числа </li>
<li style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic;">Pc</span> - пунктуация соединения </li>
<li style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic;">Other_ID_Start</span> - явный список символов в <a href="http://www.unicode.org/Public/9.0.0/ucd/PropList.txt"><span style=" text-decoration: underline; color:#0000ff;">PropList.txt</span></a> для поддержки обратной совместимости </li>
<li style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic;">Other_ID_Continue</span> - аналогично</li></ul>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Во время парсинга все идентификаторы преобразуются к обычной форме NFKC; сравнение идентификаторов основано на NFKC.  </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Ненормативный HTML файл, перечисляющий все валидные идентификаторные символы для Unicode 4.1 может быть найден на <a href="https://www.dcl.hpi.uni-potsdam.de/home/loewis/table-3131.html"><span style=" text-decoration: underline; color:#0000ff;">https://www.dcl.hpi.uni-potsdam.de/home/loewis/table-3131.html</span></a>. </p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:large; font-weight:600;">2.3.1. Ключевые слова</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Следующие идентификаторы используются как зарезервированные слова, или <span style=" font-style:italic;">ключевые слова</span> языка, они не могут быть использованы в качестве обычных идентификаторов и должны писаться точно так как здесь: </p>
<pre style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">False      class      finally    is         return</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">None       continue   for        lambda     try</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">True       def        from       nonlocal   while</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">and        del        global     not        with</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">as         elif       if         or         yield</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">assert     else       import     pass</span></pre>
<pre style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">break      except     in         raise</span> </pre>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:large; font-weight:600;"> 2.3.2. Зарезервированные классы идентификаторов</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Определенные классы идентификаторов (за исключение ключевых слов) имеют специальные значения. Эти классы идентифицируются шаблонами лидирующих и заканчивающих символов подчеркивания: </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">_*</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Неимпортированные посредством <span style=" font-family:'Courier New,courier';">from module import *</span>. Специальный идентификатор <span style=" font-family:'Courier New,courier';">_</span> используется в интерактивном интерпретаторе для хранения результата последнего вычисления; он сохранен в модуле builtins (docs.python.org/3/library/builtins.html#module-builtins). Когда нет интерактивного режима, <span style=" font-family:'Courier New,courier';">_</span> не имеет специального значения и не определен. См. Оператор import (docs.python.org/3/reference/simple_stmts.html#import). </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">Примечание:</span> Имя <span style=" font-family:'Courier New,courier';">_</span> часто используется в сочетании с интернационализацией; обратитесь к документации для модуля gettext (docs.python.org/3/library/gettext.html#module-gettext) для получения дополнительной информации об этом соглашении. </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">__*__</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Системно-зависимые имена. Эти имена определены интерпретатором и его реализацией (включая стандартную библиотеку). Текущие системные имена обсуждаются в разделе Специальные имена методов (docs.python.org/3/reference/datamodel.html#specialnames) и где-нибудь еще. Более вероятно, будет определено в будущих версиях Python. Любое использование имен <span style=" font-family:'Courier New,courier';">__*__</span> в любом контексте, который не следует явно документированному использованию, подвержен поломке без предупреждения. </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">__*</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Приватные имена классов. Имена данной категории, когда используются в контексте определения класса, переписываются, чтобы использовать искаженную форму для избегания конфликта имен между &quot;private&quot; атрибутами базового и производного классов. См. раздел Идентификаторы (Имена) (docs.python.org/3/reference/expressions.html#atom-identifiers). </p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:x-large; font-weight:600;">2.4. Литералы</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Литералы есть обозначения для константных значений некоторых встроенных типов. </p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:large; font-weight:600;">2.4.1. Строковые и байтовые литералы</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Строковые литералы описываются следующими лексическими определениями: </p>
<pre style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">stringliteral   ::=  [stringprefix](shortstring | longstring)</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">stringprefix    ::=  &quot;r&quot; | &quot;u&quot; | &quot;R&quot; | &quot;U&quot; | &quot;f&quot; | &quot;F&quot;</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">                     | &quot;fr&quot; | &quot;Fr&quot; | &quot;fR&quot; | &quot;FR&quot; | &quot;rf&quot; | &quot;rF&quot; | &quot;Rf&quot; | &quot;RF&quot;</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">shortstring     ::=  &quot;'&quot; shortstringitem* &quot;'&quot; | '&quot;' shortstringitem* '&quot;'</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">longstring      ::=  &quot;'''&quot; longstringitem* &quot;'''&quot; | '&quot;&quot;&quot;' longstringitem* '&quot;&quot;&quot;'</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">shortstringitem ::=  shortstringchar | stringescapeseq</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">longstringitem  ::=  longstringchar | stringescapeseq</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">shortstringchar ::=  &lt;any source character except &quot;\&quot; or newline or the quote&gt;</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">longstringchar  ::=  &lt;any source character except &quot;\&quot;&gt;</span></pre>
<pre style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">stringescapeseq ::=  &quot;\&quot; &lt;any source character&gt;</span> </pre>
<pre style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">bytesliteral   ::=  bytesprefix(shortbytes | longbytes)</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">bytesprefix    ::=  &quot;b&quot; | &quot;B&quot; | &quot;br&quot; | &quot;Br&quot; | &quot;bR&quot; | &quot;BR&quot; | &quot;rb&quot; | &quot;rB&quot; | &quot;Rb&quot; | &quot;RB&quot;</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">shortbytes     ::=  &quot;'&quot; shortbytesitem* &quot;'&quot; | '&quot;' shortbytesitem* '&quot;'</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">longbytes      ::=  &quot;'''&quot; longbytesitem* &quot;'''&quot; | '&quot;&quot;&quot;' longbytesitem* '&quot;&quot;&quot;'</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">shortbytesitem ::=  shortbyteschar | bytesescapeseq</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">longbytesitem  ::=  longbyteschar | bytesescapeseq</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">shortbyteschar ::=  &lt;any ASCII character except &quot;\&quot; or newline or the quote&gt;</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">longbyteschar  ::=  &lt;any ASCII character except &quot;\&quot;&gt;</span></pre>
<pre style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">bytesescapeseq ::=  &quot;\&quot; &lt;any ASCII character&gt;</span> </pre>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Одно синтаксическое ограничение, не указанное этими представлениями, это то, что символы пустоты не допускаются между stringprefix или bytesprefix и остальным литералом. Набор исходных символов определен объявлением кодировки; это UTF-8 при отсутствии объявления кодировки в исходном файле; см. раздел <a href="http://pythoner.name/index.php/documentation/reference/lexical-analysis#encodings"><span style=" text-decoration: underline; color:#0000ff;">Объявления кодировки</span></a>. </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">В плоском английском: Оба типа литералов могут быть заключены в соответствующие одиночные кавычки (<span style=" font-family:'Courier New,courier';">'</span>) или двойные (<span style=" font-family:'Courier New,courier';">&quot;</span>). Они также могут быть заключены в соответствующие группы из трех одиночных или двойных кавычек (они обычно называются тройными кавычками). Символ обратного слэша (<span style=" font-family:'Courier New,courier';">\</span>) используется для исключения (экранирования) символа, который иначе имел бы специальное значение, такое как новая строка, сам бэкслэш или символ кавычки). </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Байтовые литералы всегда имеют префикс <span style=" font-family:'Courier New,courier';">'b'</span> или <span style=" font-family:'Courier New,courier';">'B'</span>; они создают экземпляр типа <a href="http://pythoner.name/documentation/library/stdtypes#bytes"><span style=" text-decoration: underline; color:#0000ff;">bytes</span></a> вместо типа <a href="http://pythoner.name/documentation/library/stdtypes#str"><span style=" text-decoration: underline; color:#0000ff;">str</span></a>. Они могут содержать только символы ASCII; байты с числовым значением 128 или больше должны быть с экранированием. </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Как строковые, так и байтовые литералы могут опционально иметь префикс из букв <span style=" font-family:'Courier New,courier';">'r'</span> или <span style=" font-family:'Courier New,courier';">'R'</span>; такие строки называются сырыми и обрабатывают обратные слэши как литеральные символы. В резульатте в строковых литералах эскейпы <span style=" font-family:'Courier New,courier';">'\U'</span> и <span style=" font-family:'Courier New,courier';">'\u'</span> специально не обрабатываются. Учитывая, что сырые литералы юникода в Python 2.x ведут себя иначе, чем в Python 3.x, где <span style=" font-family:'Courier New,courier';">'ur'</span> синтаксис не поддерживается. </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">  </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">  </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">  </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">  </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">  </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">  </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">  </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">  </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">  </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">  </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"> </p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:large; font-weight:600;">Создано</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">2017-12-16 </p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="http://pythoner.name/comment/reply/node/120/comment#comment-form"><span style=" text-decoration: underline; color:#0000ff;">Добавить комментарий</span></a> </li></ul>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="book-label-26"></a><span style=" font-size:x-large; font-weight:600;">П</span><span style=" font-size:x-large; font-weight:600;">ерекрёстные ссылки книги для 2. Лексический анализ</span> </p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style="" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="http://pythoner.name/documentation/reference/introduction"><span style=" text-decoration: underline; color:#0000ff;">1. Введение</span></a> </li>
<li style="" style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="http://pythoner.name/documentation/reference"><span style=" text-decoration: underline; color:#0000ff;">Вверх</span></a> </li></ul></body></html>