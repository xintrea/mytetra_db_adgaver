<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'MS Shell Dlg 2'; font-size:11pt; font-weight:400; font-style:normal;">
<p style=" margin-top:18px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="ifelse-transact-sql"></a><span style=" font-size:8.25pt; font-weight:600;">I</span><span style=" font-size:8.25pt; font-weight:600;">F...ELSE (Transact-SQL)</span><span style=" font-size:8.25pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:8.25pt; font-weight:600;">ОБЛАСТЬ ПРИМЕНЕНИЯ:</span><span style=" font-size:8.25pt;"> SQL Server База данных SQL AzureХранилище данных SQL AzureParallel Data Warehouse </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:8.25pt;">Задает условия для выполнения инструкции Transact-SQL. Инструкция языка Transact-SQL, следующая за ключевым словом IF и его условием, выполняется только в том случае, если логическое выражение возвращает TRUE. Необязательное ключевое слово ELSE представляет другую инструкцию языка Transact-SQL, которая выполняется, если условие IF не удовлетворяется и логическое выражение возвращает FALSE.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:8.25pt;"> </span><a href="https://docs.microsoft.com/ru-ru/sql/t-sql/language-elements/transact-sql-syntax-conventions-transact-sql?view=aps-pdw-2016"><span style=" font-size:8.25pt; text-decoration: underline; color:#0000ff;">Синтаксические обозначения в Transact-SQL</span></a></p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="syntax"></a><span style=" font-size:8.25pt; font-weight:600;">С</span><span style=" font-size:8.25pt; font-weight:600;">интаксис</span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="code-try-0"></a><span style=" font-family:'Courier New'; font-size:8.25pt;">I</span><span style=" font-family:'Courier New'; font-size:8.25pt;">F Boolean_expression   </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New'; font-size:8.25pt;">     { sql_statement | statement_block }   </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New'; font-size:8.25pt;">[ ELSE   </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New'; font-size:8.25pt;">     { sql_statement | statement_block } ]   </span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New'; font-size:8.25pt;"><br /></p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="arguments"></a><span style=" font-size:8.25pt; font-weight:600;">А</span><span style=" font-size:8.25pt; font-weight:600;">ргументы</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:8.25pt; font-style:italic;">Boolean_expression</span><span style=" font-size:8.25pt;"><br />Выражение, возвращающее значение TRUE или FALSE. Если логическое выражение содержит инструкцию SELECT, инструкция SELECT должна быть заключена в скобки.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:8.25pt;">{ </span><span style=" font-size:8.25pt; font-style:italic;">sql_statement</span><span style=" font-size:8.25pt;">| </span><span style=" font-size:8.25pt; font-style:italic;">statement_block</span><span style=" font-size:8.25pt;"> }<br />Любая инструкция или группа инструкций языка Transact-SQL, указанная с помощью блока инструкций. Без использования блока инструкций условия IF и ELSE могут повлиять на выполнение только одной инструкции языка Transact-SQL.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:8.25pt;">Для определения блока инструкций используйте ключевые слова потока управления BEGIN и END.</span></p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="remarks"></a><span style=" font-size:8.25pt; font-weight:600;">R</span><span style=" font-size:8.25pt; font-weight:600;">emarks</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:8.25pt;">Конструкция IF...ELSE может быть использована в пакетах, хранимых процедурах и нерегламентированных запросах. При использовании в хранимой процедуре эта конструкция часто применяется для проверки существования некоторого параметра.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:8.25pt;">Проверки IF могут находиться внутри другого IF или следующего ELSE. Ограничение количества вложенных уровней зависит от свободной памяти.</span></p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="example"></a><span style=" font-size:8.25pt; font-weight:600;">П</span><span style=" font-size:8.25pt; font-weight:600;">ример</span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="code-try-1"></a><span style=" font-family:'Courier New'; font-size:8.25pt;">I</span><span style=" font-family:'Courier New'; font-size:8.25pt;">F DATENAME(weekday, GETDATE()) IN (N'Saturday', N'Sunday')</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New'; font-size:8.25pt;">       SELECT 'Weekend';</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New'; font-size:8.25pt;">ELSE </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New'; font-size:8.25pt;">       SELECT 'Weekday';</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New'; font-size:8.25pt;"><br /></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:8.25pt;">Дополнительные сведения см. в разделе </span><a href="https://docs.microsoft.com/ru-ru/sql/t-sql/language-elements/else-if-else-transact-sql?view=aps-pdw-2016"><span style=" font-size:8.25pt; text-decoration: underline; color:#0000ff;">ELSE (IF...ELSE) (Transact-SQL)</span></a><span style=" font-size:8.25pt;">.</span></p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="examples-includesssdwfullincludessssdwfull-mdmd-and-includesspdwincludessspdw-mdmd"></a><span style=" font-size:8.25pt; font-weight:600;">П</span><span style=" font-size:8.25pt; font-weight:600;">римеры: Хранилище данных SQL Azure и Параллельное хранилище данных</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:8.25pt;">В следующем примере используется </span><span style=" font-family:'Courier New'; font-size:8.25pt;">IF...ELSE</span><span style=" font-size:8.25pt;"> для определения того, какой из двух ответов показать пользователю, на основе веса элемента в таблице </span><span style=" font-family:'Courier New'; font-size:8.25pt;">DimProduct</span><span style=" font-size:8.25pt;">.</span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="code-try-2"></a><span style=" font-family:'Courier New'; font-size:8.25pt;">-</span><span style=" font-family:'Courier New'; font-size:8.25pt;">- Uses AdventureWorksDW  </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New'; font-size:8.25pt;">  </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New'; font-size:8.25pt;">DECLARE @maxWeight float, @productKey integer  </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New'; font-size:8.25pt;">SET @maxWeight = 100.00  </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New'; font-size:8.25pt;">SET @productKey = 424  </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New'; font-size:8.25pt;">IF @maxWeight &lt;= (SELECT Weight from DimProduct </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New'; font-size:8.25pt;">                  WHERE ProductKey = @productKey)   </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New'; font-size:8.25pt;">    (SELECT @productKey AS ProductKey, EnglishDescription, Weight, </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New'; font-size:8.25pt;">    'This product is too heavy to ship and is only available for pickup.' </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New'; font-size:8.25pt;">        AS ShippingStatus</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New'; font-size:8.25pt;">    FROM DimProduct WHERE ProductKey = @productKey);  </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New'; font-size:8.25pt;">ELSE  </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New'; font-size:8.25pt;">    (SELECT @productKey AS ProductKey, EnglishDescription, Weight, </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New'; font-size:8.25pt;">    'This product is available for shipping or pickup.' </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New'; font-size:8.25pt;">        AS ShippingStatus</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New'; font-size:8.25pt;">    FROM DimProduct WHERE ProductKey = @productKey);  </span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New'; font-size:8.25pt;"><br /></p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="see-also"></a><span style=" font-size:8.25pt; font-weight:600;">С</span><span style=" font-size:8.25pt; font-weight:600;">м. также:</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://docs.microsoft.com/ru-ru/sql/t-sql/language-elements/begin-end-transact-sql?view=aps-pdw-2016"><span style=" font-size:8.25pt; text-decoration: underline; color:#0000ff;">BEGIN...END (Transact-SQL)</span></a><span style=" font-size:8.25pt;"> <br /></span><a href="https://docs.microsoft.com/ru-ru/sql/t-sql/language-elements/end-begin-end-transact-sql?view=aps-pdw-2016"><span style=" font-size:8.25pt; text-decoration: underline; color:#0000ff;">END (BEGIN...END) (Transact-SQL)</span></a><span style=" font-size:8.25pt;"> <br /></span><a href="https://docs.microsoft.com/ru-ru/sql/t-sql/queries/select-transact-sql?view=aps-pdw-2016"><span style=" font-size:8.25pt; text-decoration: underline; color:#0000ff;">SELECT (Transact-SQL)</span></a><span style=" font-size:8.25pt;"> <br /></span><a href="https://docs.microsoft.com/ru-ru/sql/t-sql/language-elements/while-transact-sql?view=aps-pdw-2016"><span style=" font-size:8.25pt; text-decoration: underline; color:#0000ff;">WHILE (Transact-SQL)</span></a><span style=" font-size:8.25pt;"> <br /></span><a href="https://docs.microsoft.com/ru-ru/sql/t-sql/language-elements/case-transact-sql?view=aps-pdw-2016"><span style=" font-size:8.25pt; text-decoration: underline; color:#0000ff;">CASE (Transact-SQL)</span></a><span style=" font-size:8.25pt;"> <br /></span><a href="https://docs.microsoft.com/ru-ru/sql/t-sql/language-elements/control-of-flow?view=aps-pdw-2016"><span style=" font-size:8.25pt; text-decoration: underline; color:#0000ff;">Язык управления потоком (Transact-SQL)</span></a><span style=" font-size:8.25pt;"> </span><a href="https://docs.microsoft.com/ru-ru/sql/t-sql/language-elements/else-if-else-transact-sql?view=aps-pdw-2016"><span style=" font-size:8.25pt; text-decoration: underline; color:#0000ff;">ELSE (IF...ELSE) (Transact-SQL)</span></a></p></body></html>