<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'MS Shell Dlg 2'; font-size:9pt; font-weight:400; font-style:normal;">
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="http://www.script-coding.com/index.html"><span style=" text-decoration: underline; color:#0000ff;">Перейти на главную страничку сайта (список статей, файлы для скачивания)</span></a></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="http://forum.script-coding.com"><span style=" text-decoration: underline; color:#0000ff;">ФОРУМ (здесь можно обсудить эту статью, а также любые проблемы программирования на различных макроязыках и в скриптовых средах)</span></a> </p>
<p style=" margin-top:18px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:xx-large; font-weight:600;">Дзен консоли v 1.7</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Петр &quot;Roxton&quot; Семилетов, <a href="mailto://tea@list.ru"><span style=" text-decoration: underline; color:#0000ff;">tea@list.ru</span></a>. </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Книга для ежедневного чтения, писанная в годы 2005-2007. </p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:x-large; font-weight:600;">Содержание</span> </p>
<pre style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="http://www.script-coding.com/Dzen_1_7.html#1."><span style=" font-family:'Courier New,courier'; font-weight:600; text-decoration: underline; color:#0000ff;">1. Необходимое предисловие</span></a></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-weight:600; color:#000080;">    </span><a href="http://www.script-coding.com/Dzen_1_7.html#1.1."><span style=" font-family:'Courier New,courier'; font-weight:600; text-decoration: underline; color:#0000ff;">1.1. На пару слов...</span></a></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-weight:600; color:#000080;">    </span><a href="http://www.script-coding.com/Dzen_1_7.html#1.2."><span style=" font-family:'Courier New,courier'; font-weight:600; text-decoration: underline; color:#0000ff;">1.2. Благодарности</span></a></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="http://www.script-coding.com/Dzen_1_7.html#2."><span style=" font-family:'Courier New,courier'; font-weight:600; text-decoration: underline; color:#0000ff;">2. Фильмы</span></a></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="http://www.script-coding.com/Dzen_1_7.html#2."><span style=" font-family:'Courier New,courier'; font-weight:600; text-decoration: underline; color:#0000ff;">    </span></a><a href="http://www.script-coding.com/Dzen_1_7.html#2.1."><span style=" font-family:'Courier New,courier'; font-weight:600; text-decoration: underline; color:#0000ff;">2.1. Конвертируем VideoCD в MPEG4</span></a></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-weight:600; color:#000080;">    </span><a href="http://www.script-coding.com/Dzen_1_7.html#2.2."><span style=" font-family:'Courier New,courier'; font-weight:600; text-decoration: underline; color:#0000ff;">2.2. Как перегнать фильм DVD в формат MPEG4 (DivX)?</span></a></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-weight:600; color:#000080;">    </span><a href="http://www.script-coding.com/Dzen_1_7.html#2.3."><span style=" font-family:'Courier New,courier'; font-weight:600; text-decoration: underline; color:#0000ff;">2.3. Кодирование фильмов в три прохода</span></a></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-weight:600; color:#000080;">    </span><a href="http://www.script-coding.com/Dzen_1_7.html#2.4."><span style=" font-family:'Courier New,courier'; font-weight:600; text-decoration: underline; color:#0000ff;">2.4. Как втолковать файлу, что он - DivX</span></a></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-weight:600; color:#000080;">    </span><a href="http://www.script-coding.com/Dzen_1_7.html#2.5."><span style=" font-family:'Courier New,courier'; font-weight:600; text-decoration: underline; color:#0000ff;">2.5. Кодирование скинутого на винт DVD в MPEG4</span></a></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-weight:600; color:#000080;">    </span><a href="http://www.script-coding.com/Dzen_1_7.html#2.6."><span style=" font-family:'Courier New,courier'; font-weight:600; text-decoration: underline; color:#0000ff;">2.6. Как разбить фильм на два файла</span></a></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-weight:600; color:#000080;">    </span><a href="http://www.script-coding.com/Dzen_1_7.html#2.7."><span style=" font-family:'Courier New,courier'; font-weight:600; text-decoration: underline; color:#0000ff;">2.7. Русские субтитры в Mplayer</span></a></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-weight:600; color:#000080;">    </span><a href="http://www.script-coding.com/Dzen_1_7.html#2.8."><span style=" font-family:'Courier New,courier'; font-weight:600; text-decoration: underline; color:#0000ff;">2.8. Просмотр фильма с несколькими звуковыми потоками</span></a></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-weight:600; color:#000080;">    </span><a href="http://www.script-coding.com/Dzen_1_7.html#2.9."><span style=" font-family:'Courier New,courier'; font-weight:600; text-decoration: underline; color:#0000ff;">2.9. Заменить в фильме звуковую дорожку</span></a></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-weight:600; color:#000080;">    </span><a href="http://www.script-coding.com/Dzen_1_7.html#2.10."><span style=" font-family:'Courier New,courier'; font-weight:600; text-decoration: underline; color:#0000ff;">2.10. Запись видео с аналоговой камеры</span></a></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-weight:600; color:#000080;">    </span><a href="http://www.script-coding.com/Dzen_1_7.html#2.11."><span style=" font-family:'Courier New,courier'; font-weight:600; text-decoration: underline; color:#0000ff;">2.11. Как вытащить звук из фильма в WAV</span></a></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="http://www.script-coding.com/Dzen_1_7.html#3."><span style=" font-family:'Courier New,courier'; font-weight:600; text-decoration: underline; color:#0000ff;">3. Как конвертировать Audio CD в WAV, MP3 и OggVorbis</span></a></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-weight:600; color:#000080;">    </span><a href="http://www.script-coding.com/Dzen_1_7.html#3.1."><span style=" font-family:'Courier New,courier'; font-weight:600; text-decoration: underline; color:#0000ff;">3.1. Из Audio CD в WAV</span></a></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-weight:600; color:#000080;">    </span><a href="http://www.script-coding.com/Dzen_1_7.html#3.2."><span style=" font-family:'Courier New,courier'; font-weight:600; text-decoration: underline; color:#0000ff;">3.2. Из WAV в MP3 и наоборот</span></a></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-weight:600; color:#000080;">    </span><a href="http://www.script-coding.com/Dzen_1_7.html#3.3."><span style=" font-family:'Courier New,courier'; font-weight:600; text-decoration: underline; color:#0000ff;">3.3. Из WAV в OggVorbis</span></a></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-weight:600; color:#000080;">    </span><a href="http://www.script-coding.com/Dzen_1_7.html#3.4."><span style=" font-family:'Courier New,courier'; font-weight:600; text-decoration: underline; color:#0000ff;">3.4. Из MP3 в WAV'ы</span></a></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="http://www.script-coding.com/Dzen_1_7.html#4."><span style=" font-family:'Courier New,courier'; font-weight:600; text-decoration: underline; color:#0000ff;">4. Запись на CD/DVD-болванки</span></a></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-weight:600; color:#000080;">    </span><a href="http://www.script-coding.com/Dzen_1_7.html#4.1."><span style=" font-family:'Courier New,courier'; font-weight:600; text-decoration: underline; color:#0000ff;">4.1. Wodim и запись на болванку</span></a></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-weight:600; color:#000080;">    </span><a href="http://www.script-coding.com/Dzen_1_7.html#4.2."><span style=" font-family:'Courier New,courier'; font-weight:600; text-decoration: underline; color:#0000ff;">4.2. Запись Audio CD</span></a></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-weight:600; color:#000080;">    </span><a href="http://www.script-coding.com/Dzen_1_7.html#4.3."><span style=" font-family:'Courier New,courier'; font-weight:600; text-decoration: underline; color:#0000ff;">4.3. Создаем образ диска</span></a></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-weight:600; color:#000080;">    </span><a href="http://www.script-coding.com/Dzen_1_7.html#4.4."><span style=" font-family:'Courier New,courier'; font-weight:600; text-decoration: underline; color:#0000ff;">4.4. Запись DVD</span></a></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="http://www.script-coding.com/Dzen_1_7.html#5."><span style=" font-family:'Courier New,courier'; font-weight:600; text-decoration: underline; color:#0000ff;">5. Поиск файлов и в файлах</span></a></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-weight:600; color:#000080;">    </span><a href="http://www.script-coding.com/Dzen_1_7.html#5.1."><span style=" font-family:'Courier New,courier'; font-weight:600; text-decoration: underline; color:#0000ff;">5.1. Поиск файлов</span></a></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="http://www.script-coding.com/Dzen_1_7.html#6."><span style=" font-family:'Courier New,courier'; font-weight:600; text-decoration: underline; color:#0000ff;">6. Работа с архивами</span></a></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-weight:600; color:#000080;">    </span><a href="http://www.script-coding.com/Dzen_1_7.html#6.1."><span style=" font-family:'Courier New,courier'; font-weight:600; text-decoration: underline; color:#0000ff;">6.1. Упаковка/распаковка каталогов и файлов</span></a></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-weight:600; color:#000080;">    </span><a href="http://www.script-coding.com/Dzen_1_7.html#6.2."><span style=" font-family:'Courier New,courier'; font-weight:600; text-decoration: underline; color:#0000ff;">6.2. Быстрая пересылка каталога по SSH</span></a></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-weight:600; color:#000080;">    </span><a href="http://www.script-coding.com/Dzen_1_7.html#6.3."><span style=" font-family:'Courier New,courier'; font-weight:600; text-decoration: underline; color:#0000ff;">6.3. Разбивка большого файла на части</span></a></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="http://www.script-coding.com/Dzen_1_7.html#7."><span style=" font-family:'Courier New,courier'; font-weight:600; text-decoration: underline; color:#0000ff;">7. Винты и CD-ROM'ы</span></a></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-weight:600; color:#000080;">    </span><a href="http://www.script-coding.com/Dzen_1_7.html#7.1."><span style=" font-family:'Courier New,courier'; font-weight:600; text-decoration: underline; color:#0000ff;">7.1. Проверка читабельности CD/DVD</span></a></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-weight:600; color:#000080;">    </span><a href="http://www.script-coding.com/Dzen_1_7.html#7.2."><span style=" font-family:'Courier New,courier'; font-weight:600; text-decoration: underline; color:#0000ff;">7.2. Управление скоростью CD-ROM'а</span></a></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-weight:600; color:#000080;">    </span><a href="http://www.script-coding.com/Dzen_1_7.html#7.3."><span style=" font-family:'Courier New,courier'; font-weight:600; text-decoration: underline; color:#0000ff;">7.3. Скорость CD-ROM, более простой метод</span></a></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-weight:600; color:#000080;">    </span><a href="http://www.script-coding.com/Dzen_1_7.html#7.4."><span style=" font-family:'Courier New,courier'; font-weight:600; text-decoration: underline; color:#0000ff;">7.4. Выявление сбойных секторов штатными средствами</span></a></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="http://www.script-coding.com/Dzen_1_7.html#8."><span style=" font-family:'Courier New,courier'; font-weight:600; text-decoration: underline; color:#0000ff;">8. Обработка текста</span></a></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-weight:600; color:#000080;">    </span><a href="http://www.script-coding.com/Dzen_1_7.html#8.1."><span style=" font-family:'Courier New,courier'; font-weight:600; text-decoration: underline; color:#0000ff;">8.1. Форматирование текста по ширине</span></a></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-weight:600; color:#000080;">    </span><a href="http://www.script-coding.com/Dzen_1_7.html#8.2."><span style=" font-family:'Courier New,courier'; font-weight:600; text-decoration: underline; color:#0000ff;">8.2. Синтез речи</span></a></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="http://www.script-coding.com/Dzen_1_7.html#9."><span style=" font-family:'Courier New,courier'; font-weight:600; text-decoration: underline; color:#0000ff;">9. Если случилась беда</span></a></pre>
<pre style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="http://www.script-coding.com/Dzen_1_7.html#A."><span style=" font-family:'Courier New,courier'; font-weight:600; text-decoration: underline; color:#0000ff;">A. Об авторе</span></a> </pre>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="1."></a><span style=" font-size:x-large; font-weight:600;">Г</span><span style=" font-size:x-large; font-weight:600;">лава 1. Необходимое предисловие</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic;">Tibi et igni</span> </p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="1.1."></a><span style=" font-size:x-large; font-weight:600;">1</span><span style=" font-size:x-large; font-weight:600;">.1. На пару слов...</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Всегда проще один раз глянуть на готовый пример и сразу схватить суть, чем продираться через многие страницы документации. Которую тоже следует читать - но для уточнения рабочего примера, чтобы настроить его на свой лад. В этой книжке я попытался собрать полезные приемы работы с консольными программами. Часто в консоли можно выполнить работу быстрее, чем с помощью графического интерфейса. </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Примеры в книге отмечаются <span style=" font-weight:600;">вот таким шрифтом</span>. При этом важны кавычки и знаки препинания. Копируйте примеры к консоль и изменяйте сообразно своим нуждам. </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Материал написан в редакторе <a href="http://tea-editor.sourceforge.net/"><span style=" text-decoration: underline; color:#0000ff;">TEA</span></a> в формате Docbook и автоматически переводится в HTML для распространения книги. Книга отдана миру как общественное достояние, то бишь public domain. Ее можно копировать, перепечатывать, словом - делайте с ней что хотите. </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Книга время от времени обновляется и дополняется. Можете свободно слать мне комментарии, на адрес - <a href="mailto://tea@list.ru"><span style=" text-decoration: underline; color:#0000ff;">tea@list.ru</span></a>. Свежую версию книги вы всегда можете найти на моем <a href="http://www.roxton.kiev.ua/"><span style=" text-decoration: underline; color:#0000ff;">сайте</span></a>, в разделе <span style=" font-weight:600;">Другое</span>. </p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="1.2."></a><span style=" font-size:x-large; font-weight:600;">1</span><span style=" font-size:x-large; font-weight:600;">.2. Благодарности</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Эта книга развивается также благодаря вкладу в нее других людей, поэтому выражаю признательность им: </p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" margin-top:5px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Света - за тестирование на своем музцентре диска, записанного в режиме TAO. Позже оказалось, что сделанные мною на основе этого выводы ошибочны, но все равно спасибо.</li>
<li style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Алексей Светличный - за обнаружение ошибки.</li>
<li style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Zero Z. Zeibov - за то, что нашел важные ошибки и прислал свои примеры.</li>
<li style=" margin-top:0px; margin-bottom:5px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">K_Mikhail - за нахождение описки. </li></ul>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="2."></a><span style=" font-size:x-large; font-weight:600;">Г</span><span style=" font-size:x-large; font-weight:600;">лава 2. Фильмы</span> </p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="2.1."></a><span style=" font-size:x-large; font-weight:600;">2</span><span style=" font-size:x-large; font-weight:600;">.1. Конвертируем VideoCD в MPEG4</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Командная строка будет выглядеть так: </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">mencoder vcd:// -ffourcc DIVX -ovc lavc -lavcopts vcodec=mpeg4 -oac copy -o out.avi</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Несколько комментариев. Результат будет записан в файл out.avi. Параметр -oac copy указывает на то, что мы копируем звуковой поток без изменений. В качестве выходного кодека (-ovc) у нас идет lavc, а поскольку он поддерживает несколько форматов, то мы уточняем, какой именно нам нужен - mpeg4. </p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="2.2."></a><span style=" font-size:x-large; font-weight:600;">2</span><span style=" font-size:x-large; font-weight:600;">.2. Как перегнать фильм DVD в формат MPEG4 (DivX)?</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Задача. Перегнать фильм с DVD в DivX/MPEG4, чтобы получить файл такого размера, каков поместится на обычной CD-болванке. Как это сделать? </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Нам потребуется утилита mencoder, входящая в состав плейера <a href="http://www.mplayerhq.hu/"><span style=" text-decoration: underline; color:#0000ff;">Mplayer</span></a>. Перейдите в каталог, куда ходите записать фильм. Вставьте DVD в дисковод, однако не монтируйте его. Есть два метода рипания, вернее, двумя кодеками - FFMPEG и XVid. Первый и конвертирует быстрее, и дает больше возможностей. Здесь изложу способы работы с обоими кодеками. Обратите внимание на ключ -ffourcc DIVX - если его не указать, то другие плейеры/кодеки могут не понять, что видео кодировано в DivX-совместимом формате. То есть, например, вы кодировали фильм в XVid без ключа -ffourcc DIVX. Предположим, у конечного пользователя (который будет смотреть фильм) под Windows нет кодека XVid, а есть только DivX. И вот если вы конвертировали фильм без ключа -ffourcc DIVX, то наш предполагаемый &quot;конечный пользователь&quot; фильм этот посмотреть не сможет - его софт не определит нужный формат. </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Вначале - о кодировании XVid'ом. Даем команду, которая рипает фильм с битрейром видео 900, звука 128, и выводит это в файл out.avi: </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">mencoder dvd:// -ffourcc DIVX -vf scale=512:384 -ovc xvid -xvidencopts bitrate=900 -oac mp3lame -lameopts cbr:br=128 -o out.avi</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Если на DVD несколько звуковых дорожек, и вы хотите выбрать русскую, то это делается параметром -alang ru. Вот так: </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">mencoder dvd:// -ffourcc DIVX -alang ru -vf scale=512:384 -ovc xvid -xvidencopts bitrate=900 -oac mp3lame -lameopts cbr:br=128 -o out.avi</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">А теперь FFMPEG. Может быть у вас все будет нормально, и вы сможете воспроизвести полученные таким образом файлы и в других плейерах, с помощью других декодеров. У меня раньше так и было. Буду рад письмам об этом - сообщайте, какая у вас система, версия Mplayer, и в каком плейере/какими кодеками вы воспроизводили эти файлы. </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">mencoder dvd://номер -ffourcc DIVX -oac mp3lame -ovc lavc -lavcopts vcodec=mpeg4:vbitrate=1000:vqmin=2:vqmax=25:vhq:v4mv:trell:autoaspect -vf scale=512:384 -lameopts cbr:br=128:aq=0 -o имя_файла.avi</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Параметры таковы: </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">номер - это номер фрагмента (title), который будет читаться с DVD. Записи на DVD нумеруются. Если на диск записано больше одного фильма, то один может быть доступен под номером 1, второй 2 и т.д. Но часто бывает, что за этими номерами скрываются разные заставки. Поэтому прежде чем перегонять видео с DVD, посмотрите, что за фильм под таким-то номером, командой mplayer dvd://такой-то номер, например: mplayer dvd://1 </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Другой параметр для mencoder - имя_файла.avi. Это будет имя, под которым сохранится конвертированный файл. В параметре oac мы задаем звуковой кодек, в нашем примере это mp3lame. Для тех, кто не знает - в MPEG4/DivX звук хранится в формате MP3. А Lame - это кодек. Он может быть установлен у вас в системе, а может и не быть. Вот вам <a href="http://lame.sourceforge.net/download/download.html"><span style=" text-decoration: underline; color:#0000ff;">ссылка</span></a>, где взять этот кодек. Чуть дальше мы задем настройки LAME: -lameopts cbr:br=128:aq=0. Это значит, что сжимаем звук с постоянным битрейтом 128 и хорошим качеством. Никогда не записывайте в фильме MP3 с переменным битрейром. </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Далее, параметр -ovc lavc задает кодек для видео. В нашем случае этот кодек - lavc. Его качать не надо, он входит в состав Mplayer'а. Передаем в lavc параметры: vcodec=mpeg4:vbitrate=1000:vqmin=2:vqmax=25:vhq:v4mv:trell:autoaspect -vf scale=512:384. </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Объяснение. Поскольку lavc поддерживает много алгоритмов сжатия, мы выбираем mpeg4. Значение vbitrate - это какой у видео будет битрейт. Для полуторачасового фильма, чтобы он потом влез на болванку, подходит обычно битрейт от 800 до 1000. Чем больше число, тем больше файл. И наоборот. </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Параметр vhq включает режим качественного сжатия, НЕ в реальном времени. Когда фильм сжимается в DivX в реальном времени, то вычислительной мощности вашего компьютера может не хватить, чтобы с должной скоростью обрабатывать видео. В итоге видео получается с рывками, прочими прелестями. Что до режима vhq, то в нем утилита не спешит, прыгая через пень-колоду лишь бы поспеть, а сжимает видео как надо, медленнее, зато ничего не пропуская. </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Наконец, еще один параметр - vf scale=512:384. Задаем масштаб картинки. 512:384, по моим наблюдениям, наилучший. </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Теперь полный пример: </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">mencoder dvd://3 -ffourcc DIVX -oac mp3lame -ovc lavc -lavcopts vcodec=mpeg4:vbitrate=1000:vqmin=2:vqmax=25:vhq:v4mv:trell:autoaspect -vf scale=512:384 -lameopts cbr:br=128:aq=0 -o my_movie.avi</span> </p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="2.3."></a><span style=" font-size:x-large; font-weight:600;">2</span><span style=" font-size:x-large; font-weight:600;">.3. Кодирование фильмов в три прохода</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Zero Z. Zeibov пишет: </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">И еще я бы добавил в главу по перекодированию файлов метод кодирования в три прохода. Он дает возможность более точного выбора размера получаемого фильма (650,700,750 или двухкомпактные фильмы). </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">mencoder dvd://1 -ovc frameno -oac mp3lame -lameopts vbr=3 -o frameno.avi</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">после отработки создается файл frameno.avi с одной только звуковой дорожкой, и выдается информация о возможных битрейтах и получаемом размере при его использовании. Дальше первый проход кодирования видео: </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">mencoder dvd://1 -oac copy -ovc lavc -lavcopts vcodec=mpeg4:vpass=1:vbitrate=битрейт -o movie.avi -vop scale=512:384</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">и второй: </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">mencoder dvd://1 -oac copy -ovc lavc -lavcopts vcodec=mpeg4:vpass=2:vbitrate=битрейт -o movie.avi -vop scale=512:384</span> </p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="2.4."></a><span style=" font-size:x-large; font-weight:600;">2</span><span style=" font-size:x-large; font-weight:600;">.4. Как втолковать файлу, что он - DivX</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Допустим, вы конвертировали файл Mencoder'ом с MPEG4/DivX совместимый форматом сжатия, но другой плейер/кодек не хочет понимать, что ваш файл вполне MPEG4. В таком случае можно напрямую &quot;вшить&quot; в файл название совместимого кодека: </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">mencoder исходный файл.avi -ovc copy -oac copy -ffourcc DIVX -o файл результата.avi</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Работает для FFMPEG, XVid - проверено. </p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="2.5."></a><span style=" font-size:x-large; font-weight:600;">2</span><span style=" font-size:x-large; font-weight:600;">.5. Кодирование скинутого на винт DVD в MPEG4</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Допустим, вы скопировали DVD целиком в каталог /mnt/films/movie. Теперь вы хотите конвертировать этот фильм в MPEG4 прямо с винта. Mplayer позволяет играть содержимое DVD из указанного каталога, например: </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">mplayer dvd://1 -dvd-device /mnt/films/movie</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">То есть в параметре -dvd-device мы указываем путь к каталогу, куда вы сбросили DVD (а копировать надо, начиная из корневого каталога, то есть вместе с каталогами AUDIO_TS и VIDEO_TS). Подобно Mplayer'у, из каталога может читать DVD-формат и Mencoder. Кодируем в MPEG4 фильм, скопированный с DVD в /mnt/films/movie: </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">mencoder dvd://1 -dvd-device /mnt/films/movie -oac mp3lame -ovc lavc -lavcopts vcodec=mpeg4:vbitrate=900:vqmin=2:vqmax=25:vhq:v4mv:trell:autoaspect -vf scale=512:384 -lameopts cbr:br=128:aq=0 -ffourcc DIVX -o movie.avi</span> </p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="2.6."></a><span style=" font-size:x-large; font-weight:600;">2</span><span style=" font-size:x-large; font-weight:600;">.6. Как разбить фильм на два файла</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Нам снова поможет mencoder. Допустим, у нас есть здоровенный файл movie.avi. Мы хотим разбить его на две части, файлы part1.avi и part2.avi. Время, на котором фильм разбиваем, пусть будет 1 час 13 минут 16 секунд. Получаем файл part2.avi: </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">mencoder -ovc copy -oac copy -ss 1:13:16 -o part2.avi movie.avi</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Получаем файл part1.avi: </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">mencoder -ovc copy -oac copy -endpos 1:13:16 -o part1.avi movie.avi</span> </p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="2.7."></a><span style=" font-size:x-large; font-weight:600;">2</span><span style=" font-size:x-large; font-weight:600;">.7. Русские субтитры в Mplayer</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Хотя Mplayer оснащен графической оболочкой, многие пользователи предпочитают вариант плейера без нее. А в этом случае использование субтитров не столь очевидно. Вот что нужно сделать, дабы &quot;консольный&quot; Mplayer показывал субтитры на русском языке: </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">1. В каталоге .mplayer (точка в начале означает, что каталог - скрытый) создайте символическую ссылку на какой-нибудь TTF-шрифт, например на Arial из Windows. Ссылка должна называться subfont.ttf. </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">2. В файле /.mplayer/config прописываем кодировку субтитров: </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">subcp=cp1251 </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">cp1251 - поскольку именно в этой кодировке чаще всего встречаются субтитры на просторах России. </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">3. Хорошо, если в директории с фильмом лежит только один файл с субтитрами - тогда Mplayer загрузит его автоматически. А если файлов несколько, то нужно указать в командной строке, какой именно надо использовать. Для этой цели служит параметр -sub имя_файла. Например: </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">mplayer -sub Monty_Python.RU.srt Monty_Python.avi</span> </p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="2.8."></a><span style=" font-size:x-large; font-weight:600;">2</span><span style=" font-size:x-large; font-weight:600;">.8. Просмотр фильма с несколькими звуковыми потоками</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Иногда попадаются диски, на которых MPEG4-фильм записан таким образом, что перевод идёт дополнительным аудиопотоком, и по умолчанию плейер его не видит. С помощью mplayer'а этот второй звуковой поток становится доступным, если запустить фильм командой: </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">mplayer -aid 2 имя_файла.avi</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Здесь 2 - номер потока, обычно перевод идет как второй. </p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="2.9."></a><span style=" font-size:x-large; font-weight:600;">2</span><span style=" font-size:x-large; font-weight:600;">.9. Заменить в фильме звуковую дорожку</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Чтобы заменить в фильме звуковую дорожку и вывести результат в файл out.avi, делаем так: </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">mencoder исходный_файл.avi -ovc copy -oac copy -audiofile файл_со_звуком.mp3 -o out.avi</span> </p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="2.10."></a><span style=" font-size:x-large; font-weight:600;">2</span><span style=" font-size:x-large; font-weight:600;">.10. Запись видео с аналоговой камеры</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Для черновой оцифровки в MPEG4 подойдет следующая команда: </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">mencoder -ovc lavc -lavcopts vcodec=mpeg4:vbitrate=1200:trell:v4mv -oac mp3lame -lameopts cbr:br=128 -tv driver=v4l:input=1:width=320:height=240:amode=1 -ffourcc DIVX -o out.avi tv://</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Здесь не самые лучшие параметры сжатия. Обратите внимание на раздел параметров -tv. Тут настраивается оцифровка видео и звука с карты ТВ-тюнера. amode=1 - это запись звука в стерео. input=1 - запись видео со входа Composite 1. Кстати, чтобы оцифровать без сжатия, надо в кодеках выбрать copy, то есть -oac copy -ovc copy. Вместо драйвера v4l можете попробовать выбрать v4l2. </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Вот еще хороший пример - если приведенный выше глючит, попробуйте этот: <span style=" font-weight:600;">mencoder -ovc lavc -lavcopts vcodec=mpeg4:vbitrate=1000:trell -oac mp3lame -lameopts cbr:br=128 -vf pp=lb -tv driver=v4l:input=1:width=512:height=384:amode=1 -ffourcc DIVX -o out.avi tv://</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Перед записью на забудьте включить в микшере звуковой карты порт Capture! При записи видео в разрешении, больше оригинального (например, для старых камер VHS-С, как у меня, разрешение по стандарту равно 320x240) надо включить деинтерлейсинг, иначе изображение будет разбито на полосы. Включается деинтерлейсинг ключом: -vf pp=lb. </p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="2.11."></a><span style=" font-size:x-large; font-weight:600;">2</span><span style=" font-size:x-large; font-weight:600;">.11. Как вытащить звук из фильма в WAV</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Да примерно вот так: <span style=" font-weight:600;">mplayer -ao pcm -aofile звуковой_файл.wav фильм.avi</span> </p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="3."></a><span style=" font-size:x-large; font-weight:600;">Г</span><span style=" font-size:x-large; font-weight:600;">лава 3. Как конвертировать Audio CD в WAV, MP3 и OggVorbis</span> </p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="3.1."></a><span style=" font-size:x-large; font-weight:600;">3</span><span style=" font-size:x-large; font-weight:600;">.1. Из Audio CD в WAV</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Будем использовать утилиту cdparanoia. Чтобы сбросить целый Audio CD на винт, в консоли даем команду: </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">cdparanoia -BZ</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Если вы хотите сбросить конкретные дорожки, например от второй по восьмую, делаем так: </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">cdparanoia 2-8 -B -Z</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Ежели диск очень запиленный и с царапинами, убираем из командной строки параметр -Z (который отключает функции чтения поврежденных CD). </p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="3.2."></a><span style=" font-size:x-large; font-weight:600;">3</span><span style=" font-size:x-large; font-weight:600;">.2. Из WAV в MP3 и наоборот</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Для примера нам понадобится MP3-кодировщик <a href="http://lame.sourceforge.net/download/download.html"><span style=" text-decoration: underline; color:#0000ff;">lame</span></a>. В каталоге с вавками даем команду: </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">find . -iname &quot;*.wav&quot; -exec lame '{}' ';'</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Тем самым вы кодируете в Mp3 все wav-файлы в этом каталоге. Битрейт по умолчанию = 128. А вот так кодируем с битрейтом 320 и наилучшим качеством: <span style=" font-weight:600;">find . -iname &quot;*.wav&quot; -exec lame '-b 320 -q 0' '{}' ';'</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Сжать один wav-файл в MP3: <span style=" font-weight:600;">lame myfile.wav</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Декодировать все MP3 в текущем каталоге в WAV: <span style=" font-weight:600;">find . -iname &quot;*.mp3&quot; -exec lame '--decode' '{}' ';'</span> </p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="3.3."></a><span style=" font-size:x-large; font-weight:600;">3</span><span style=" font-size:x-large; font-weight:600;">.3. Из WAV в OggVorbis</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Перегнать из WAV в OggVorbis еще проще, нежели в MP3. Даем команду: <span style=" font-weight:600;">oggenc *.wav</span>, или просто <span style=" font-weight:600;">oggenc *</span>, если в каталоге только один wav'ы. </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Сжать wav'ы в Ogg при наивысшем битрейте: <span style=" font-weight:600;">oggenc -q 10 *.wav</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Сжать один wav в Ogg: <span style=" font-weight:600;">oggenc myfile.wav</span> </p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="3.4."></a><span style=" font-size:x-large; font-weight:600;">3</span><span style=" font-size:x-large; font-weight:600;">.4. Из MP3 в WAV'ы</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">В каталоге с эмпешками, которые хотите конвертировать, дайте команду: </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">find . -iname &quot;*.mp3&quot; -exec lame '--decode' '{}' ';'</span> </p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="4."></a><span style=" font-size:x-large; font-weight:600;">Г</span><span style=" font-size:x-large; font-weight:600;">лава 4. Запись на CD/DVD-болванки</span> </p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="4.1."></a><span style=" font-size:x-large; font-weight:600;">4</span><span style=" font-size:x-large; font-weight:600;">.1. Wodim и запись на болванку</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Ранее, для записи на CD/DVD, был популярен пакет cdrtools, однако после смены его автором лицензии, на основе cdrtools был создан GPL-проект cdrkit, в состав которого вошли утилиты wodim (аналог cdrecord), icedax (аналог cdda2wav) и cdda2wav (аналог cdda2wav). </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">wodim - эта утилита входит в любой современный полновесный дистрибутив Linux и считается стандартом де-факто среди программ записи на CD. Она умеет записывать образ диск на носитель. </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Допустим, у нас уже есть образ диска (о том, как это сделать, читайте в разделе <a href="http://www.script-coding.com/Dzen_1_7.html#4.3."><span style=" text-decoration: underline; color:#0000ff;">Создаем образ диска</span></a>). Файл с ним для примера называется my_cd_or_dvd.iso. Хотим записать его на носитель. В простейшем случае даем примерно такую команду: </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">wodim dev=/dev/hdd -fs=16M -speed=4 -eject -v my_cd_or_dvd.iso</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Здесь параметры таковы: </p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" margin-top:5px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">dev=/dev/hdd - какое устройство используется для записи? Это: /dev/hdd</li>
<li style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">speed=4 - скорость записи равна 4</li>
<li style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">-eject - выдвинуть каретку CD-ROM'а после окончания записи</li>
<li style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">fs=16M - буфер FIFO равен 16 магабайтам.</li>
<li style=" margin-top:0px; margin-bottom:5px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">-v - указывает программе не молчать, а выводит информацию о ходе записи. </li></ul>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="4.2."></a><span style=" font-size:x-large; font-weight:600;">4</span><span style=" font-size:x-large; font-weight:600;">.2. Запись Audio CD</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Писать аудио можно в двух режимах - TAO (track at once) и DAO (disk at once). DAO более нов, TAO добавляет между дорожками паузы длиной в 2 секунды, а DAO - не добавляет. Однако, диски, записанные в режиме DAO, не читаются некоторыми старыми музыкальными центрами, плейерами и т.п. Поэтому имеет смысл записывать аудио CD в режиме TAO, который читается лучше. Режим этот включается параметром -tao (а DAO, соответственно, -dao). Пример: </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">wodim dev=/dev/hdc -tao -eject speed=4 -pad -audio *.wav</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Тонкость - использование ключика -pad. Размер аудиофайла, дорожки, должен быть кратен числу 2352 (байтов). Иначе cdrecord откажется его записывать. Параметр -pad позволяет обойти это ограничение, заставляя cdrecord автоматически дополнять нулями размер/длину дорожки до кратности 2352. Короче говоря, используйте -pad. </p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="4.3."></a><span style=" font-size:x-large; font-weight:600;">4</span><span style=" font-size:x-large; font-weight:600;">.3. Создаем образ диска</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Способ первый, или как создать точную копию CD(не аудио). Даем в консоли команду: </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">dd if=/dev/cdrom of=mycd.iso</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Ждем. Создается ISO-образ диска, вставленного в /dev/cdrom. Образ записывается в файл mycd.iso. </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Еще метод: <span style=" font-weight:600;">readcd dev=/dev/hdc f=mydvd.iso</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">И способ другой, полезный, ежели вам необходимо сделать образ какой-нибудь директории, например /mnt/music/nirvana. В консоли даем команду: </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">genisoimage -f -v -J -o mycd.iso /mnt/music/nirvana</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Обратите внимание на ключик -f в строке параметров. Он говорит genisoimage, чтобы она считывала символические ссылки из указанного каталога и помещала в образ реальные файлы вместо симлинков. </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Проверим, насколько правильно создался образ. Мы можем подмонтировать его к некой директории и войти в образ диска, как в обычную директорию. Создаем директорию test и даем команду: </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">mount -t iso9660 -o loop mycd.iso test</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Заходим в test. Видим содержимое ISO-образа? Вот и ладушки. </p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="4.4."></a><span style=" font-size:x-large; font-weight:600;">4</span><span style=" font-size:x-large; font-weight:600;">.4. Запись DVD</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Если у вас есть заранее подготовленный образ DVD, пишем его как на обычную болванку, с помощью wodim. Если же вы хотите записать на DVD содержимое некоего каталога (например, /mnt/image), то используейте команду: </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">growisofs -Z /dev/hdd -f -R -J /mnt/image</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Параметр -Z применяется, если мы начинаем новую сессию. А чтобы добавить другую сессию, вместо -Z пишем параметр -M: <span style=" font-weight:600;">growisofs -M /dev/hdd -R -J /mnt/image2</span> </p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="5."></a><span style=" font-size:x-large; font-weight:600;">Г</span><span style=" font-size:x-large; font-weight:600;">лава 5. Поиск файлов и в файлах</span> </p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="5.1."></a><span style=" font-size:x-large; font-weight:600;">5</span><span style=" font-size:x-large; font-weight:600;">.1. Поиск файлов</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Для поиска файлов можно использовать консольные утилиты locate и find. </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Найти в текущем каталоге и вложенных в него каталогах все файлы, изменившиеся за последние два дня: <span style=" font-weight:600;">find . -ctime -3</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Найти в текущем каталоге все файлы, изменившиеся за последние 13 минут: <span style=" font-weight:600;">find . -amin -13</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Найти в текущем каталоге все файлы c расширениями .с и .h: <span style=" font-weight:600;">find . -name '*.[ch]'</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Найти в текущем каталоге все файлы c расширением txt: <span style=" font-weight:600;">find . -iname '*.txt'</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Найти в текущем каталоге все файлы c расширением txt и содержимым, в котором есть слово linux: <span style=" font-weight:600;">find . -name '*.txt' | xargs grep &quot;linux&quot;</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Утилита locate служит для мгновенного поиска файла или директории. Скорость обеспечивается тем, что locate обращается к базе данных, в которой хранится информация о расположении файлов на разделах дисков. Если таковой базы не существует либо она устарела, обновить и создать ее можно данной под root'ом командой: </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">locate -u</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Для поиска же, например, всех файлов, которые начинаются с doom, можно дать команду: <span style=" font-weight:600;">locate doom</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Искать doom вне зависимости от регистра: <span style=" font-weight:600;">locate -i doom</span> </p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="6."></a><span style=" font-size:x-large; font-weight:600;">Г</span><span style=" font-size:x-large; font-weight:600;">лава 6. Работа с архивами</span> </p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="6.1."></a><span style=" font-size:x-large; font-weight:600;">6</span><span style=" font-size:x-large; font-weight:600;">.1. Упаковка/распаковка каталогов и файлов</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Упаковать каталог mydirectory в архив mydirectory.tar.gz: <span style=" font-weight:600;">tar --gzip -c -f mydirectory.tar.gz mydirectory</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Распаковать mydirectory.tar.gz в текущий каталог: <span style=" font-weight:600;">tar --gzip -xf mydirectory.tar.gz</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Создать архив mybook.tar из содержимого директории mybook: <span style=" font-weight:600;">tar -cf mybook.tar mybook</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Упаковать файл mybook.tar архиватором bzip2, получая на выходе архив с именем mybook.tar.bz2: <span style=" font-weight:600;">bzip2 -zfkv9 mybook.tar</span> </p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="6.2."></a><span style=" font-size:x-large; font-weight:600;">6</span><span style=" font-size:x-large; font-weight:600;">.2. Быстрая пересылка каталога по SSH</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Zero Z. Zeibov прислал пример способа, которым можно на лету сжать и потом распаковать каталог, пересылаемый на удаленную машину по shh. Выглядит это так: </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">tar -cjf - /dir/to/copy | ssh user@remote 'cd /where/to/ &amp;&amp; tar -xjf -</span> </p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="6.3."></a><span style=" font-size:x-large; font-weight:600;">6</span><span style=" font-size:x-large; font-weight:600;">.3. Разбивка большого файла на части</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Допустим, у нас есть большой файл myfile.wav и мы хотим разбить его на куски по 1200 килобайт, чтобы записать на трехдюймовые дискеты. В помещенном ниже примере имена файлов-кусочков будут начинаться с префикса myfile.wav.part.. Итак: </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">split -b1200k myfile.wav myfile.wav.part.</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">А чтобы собрать эти файлы воедино, восстановив первоначальный большой файл, дадим такую команду: </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">cat myfile.wav.part.* &gt; myfile.wav</span> </p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="7."></a><span style=" font-size:x-large; font-weight:600;">Г</span><span style=" font-size:x-large; font-weight:600;">лава 7. Винты и CD-ROM'ы</span> </p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="7.1."></a><span style=" font-size:x-large; font-weight:600;">7</span><span style=" font-size:x-large; font-weight:600;">.1. Проверка читабельности CD/DVD</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Даем команду: <span style=" font-weight:600;">dd if=/dev/cdrom of=/dev/null</span> и ждем, прочитается ли все содержимое вставленного в привод диска или нет. </p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="7.2."></a><span style=" font-size:x-large; font-weight:600;">7</span><span style=" font-size:x-large; font-weight:600;">.2. Управление скоростью CD-ROM'а</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">В дистрибутив любого Linux'а входит утилита hdparm, которая, кроме всего прочего, может управлять скоростью CD-ROM'а. Достаточно лишь дать примерно такую команду: </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">hdparm -E 20 /dev/hdc</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Здесь 20 - устанавливаемая скорость, а /dev/hdc - ваш CD-ROM. Для тех, кто не знает, приведу полезную табличку соответствий: </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">IDE-устройство Устройство в Linux<br />IDE 1 (master) /dev/hda<br />IDE 1 (slave) /dev/hdb<br />IDE 2 (master) /dev/hdc<br />IDE 2 (slave) /dev/hdd </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Итак, если ваш CD-ROM подключен как master на канале IDE2, то в Linux его устройство будет называться hdc, а полный путь к нему - /dev/hdc. </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Чтобы установить скорость CD-ROM при запуске Linux, просто допишите в конец файла etc/rc.d/rc.local примерно такую команду: <span style=" font-weight:600;">/sbin/hdparm -E 20 /dev/hdc</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Полный путь к hdparm тут необходим. И еще - добавьте пустую строку в конец файла. </p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="7.3."></a><span style=" font-size:x-large; font-weight:600;">7</span><span style=" font-size:x-large; font-weight:600;">.3. Скорость CD-ROM, более простой метод</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Один из методов управления скорость CD-ROM'а основан на использовании команды eject и, что важно, не требует привилегий root. Для установки новой скорости запускайте eject в следующем формате: eject -x скорость директория_к_которой_подмонтирован_CD </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Например, установить скорость 20: </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">eject -x 20 /mnt/cdrom</span> </p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="7.4."></a><span style=" font-size:x-large; font-weight:600;">7</span><span style=" font-size:x-large; font-weight:600;">.4. Выявление сбойных секторов штатными средствами</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Чтобы найти на диске сбойные секторы, можно использовать две стандартные команды. Для файловой системы ext3 это: fsck.ext3 -v -n -c -c устройство </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">А для ext2: fsck.ext2 -v -n -c -c устройство </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Пример: </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">fsck.ext3 -v -n -c -c /dev/hdb11</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Команду надо запускать при отмонтированном разделе диска. Двойной параметр -c нужен для включения безопасной проверки на чтение/запись. </p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="8."></a><span style=" font-size:x-large; font-weight:600;">Г</span><span style=" font-size:x-large; font-weight:600;">лава 8. Обработка текста</span> </p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="8.1."></a><span style=" font-size:x-large; font-weight:600;">8</span><span style=" font-size:x-large; font-weight:600;">.1. Форматирование текста по ширине</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Иногда возникает необходимость &quot;жестко&quot; отформатировать текст по ширине, чтобы каждая строка переносилась по такой-то позиции справа. Для этого можно воспользоваться стандартной командой fold, дав ее в командной строке в следующем формате: </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">fold --width=ширина_строки -s исходный_файл &gt; файл_вывода</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Например: </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">fold --width=72 -s my.txt &gt; my_formatted_text.txt</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Здесь мы задали ширину строки в 72 символа. Обрабатывается файл my.txt. Результат записывается в файл my_formatted_text.txt. Параметр -s нужен для того, чтобы перенос строки осуществлялся по словам, а не по символам. </p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="8.2."></a><span style=" font-size:x-large; font-weight:600;">8</span><span style=" font-size:x-large; font-weight:600;">.2. Синтез речи</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Прочитать текст вслух можно с помощью речевого синтезатора Festival, который выходит во многие дистрибутивы Linux. Например, мы хотим услышать слово &quot;hello&quot;. Даем такую команду: </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">echo &quot;Hello&quot;| festival --tts</span> </p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="9."></a><span style=" font-size:x-large; font-weight:600;">Г</span><span style=" font-size:x-large; font-weight:600;">лава 9. Если случилась беда</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Linux очень трудно привести в нестабильное состояние. Но даже если это произошло, и вам кажется, что система зависла, не спешите жать на Reset (кстати, в Linux это вообще не рекомендуется). </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Во-первых, если вы работали в графической оболочке, попробуйте убить X-сервер. Делается это одновременным нажатием Ctrl-Alt-Backspace. После чего вас выкинет в консоль. Перезапустить графическую оболочку вы сможете командой startx. </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Если же ничего уже не помогает, по-прежнему работают SysReq-клавиши. Даже когда вам кажется, что система висит намертво. Ниже привожу небольшой список этих клавиш. Везде, где написано SysReq, следует нажимать PrintScreen/SysRq. Итак: </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Alt-SysRq-S - сбросить дисковые буферы на винчестер, то есть синхронизировать кэш с реальными записями на диске. </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Alt-SysRq-U - отмонтировать (unmount) разделы дисков. Всегда делайте это ПОСЛЕ синхронизации. </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Alt-SysRq-O - останов системы, аналог нажатия на Power. Перед этим надо синхронизировать кэш и отмонтировать разделы (именно в такой последовательности). </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Alt-SysRq-E - убить текущий процесс, в котором вы работаете. Эффект - вас выкидывает в консольный логин, откуда, снова войдя в систему, лучше всего перезагрузиться командой reboot. </p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="A."></a><span style=" font-size:x-large; font-weight:600;">П</span><span style=" font-size:x-large; font-weight:600;">риложение A. Об авторе</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Петр Владимирович Семилетов, род. 1977 в Киеве, которого уже почти не осталось. ИТ-журналист, писатель, композитор, звукорежиссер, музыкант, режиссер любительских фильмов и мультиков. Разработчик текстового редактора <a href="http://tea-editor.sourceforge.net/"><span style=" text-decoration: underline; color:#0000ff;">TEA</span></a>. Домашняя страница автора здесь - <a href="http://www.roxton.kiev.ua"><span style=" text-decoration: underline; color:#0000ff;">http://www.roxton.kiev.ua</span></a>. </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="http://www.script-coding.com/index.html"><span style=" text-decoration: underline; color:#0000ff;">Перейти на главную страничку сайта (список статей, файлы для скачивания)</span></a> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:small;">© 2007 </span><a href="http://www.script-coding.com/"><span style=" font-size:small; text-decoration: underline; color:#0000ff;">http://www.script-coding.com</span></a><span style=" font-size:small;"> При любом использовании материалов сайта обязательна </span><span style=" font-size:small; font-weight:600;">ссылка</span><span style=" font-size:small;"> на него как на источник информации, а также сохранение </span><span style=" font-size:small; font-weight:600;">целостности</span><span style=" font-size:small;"> и </span><span style=" font-size:small; font-weight:600;">авторства</span><span style=" font-size:small;"> материалов.</span> </p></body></html>